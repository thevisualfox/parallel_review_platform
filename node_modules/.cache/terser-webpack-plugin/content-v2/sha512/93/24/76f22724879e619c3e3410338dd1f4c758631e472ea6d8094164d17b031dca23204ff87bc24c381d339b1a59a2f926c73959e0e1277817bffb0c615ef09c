{"code":"!function(e){function t(t){for(var n,c,i=t[0],l=t[1],s=t[2],m=0,d=[];m<i.length;m++)c=i[m],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&d.push(a[c][0]),a[c]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);for(u&&u(t);d.length;)d.shift()();return o.push.apply(o,s||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,i=1;i<r.length;i++){var l=r[i];0!==a[l]&&(n=!1)}n&&(o.splice(t--,1),e=c(c.s=r[0]))}return e}var n={},a={main:0},o=[];function c(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.m=e,c.c=n,c.d=function(e,t,r){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},c.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var n in e)c.d(r,n,function(t){return e[t]}.bind(null,n));return r},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,\"a\",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p=\"/build/app/\";var i=window.webpackJsonp=window.webpackJsonp||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var s=0;s<i.length;s++)t(i[s]);var u=l;o.push([\"9XVo\",0]),r()}({\"0QAq\":function(e,t,r){e.exports=r.p+\"img/check.6890cf07.svg\"},\"1zgo\":function(e,t,r){e.exports=r.p+\"img/archive.fa6029eb.svg\"},\"3h9j\":function(e,t,r){e.exports=r.p+\"img/close.ff2e588e.svg\"},\"8Me5\":function(e,t,r){e.exports=r.p+\"img/edit.b02ad14b.svg\"},\"9XVo\":function(e,t,r){\"use strict\";r.r(t);r(\"Km7m\"),r(\"ls82\");var n=r(\"EVdn\"),a=r.n(n);r(\"j4iJ\");a()(\"form:not([novalidate])\").parsley({errorClass:\"is-error\",excluded:\"input[type=button], input[type=submit], input[type=reset], input[type=hidden], [disabled], :hidden\",successClass:\"is-success\"});r(\"UIGm\");var o=r(\"C331\"),c=r.n(o);a()((function(){c()()}));var i=r(\"q1tI\"),l=r.n(i),s=r(\"i8i4\"),u=r(\"PC6D\"),m=r(\"+QN0\"),d=r(\"55Ip\"),p=r(\"Ty5D\"),f=r(\"Uvq/\"),v=r(\"8PNI\"),b=r(\"ATyU\"),y=[.65,0,.35,1],g={initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{ease:y,duration:.2}},h={initial:{y:200,opacity:0},animate:{y:0,opacity:1,transition:{type:\"spring\",damping:42,stiffness:800}},exit:{y:200,opacity:0,transition:{type:\"spring\",damping:42,stiffness:1200}}},j={initial:{y:\"100%\"},animate:{y:\"0%\",transition:{type:\"spring\",damping:41,stiffness:600}},exit:{y:\"100%\",transition:{type:\"spring\",damping:41,stiffness:1200}}},E={initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{ease:y,duration:.2}},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return{initial:{opacity:0,y:35},animate:{opacity:1,y:0,transition:{type:\"spring\",damping:30,stiffness:450,delay:.035*e}},exit:{opacity:0,scale:.25,transition:{type:\"spring\",damping:30,stiffness:600}}}},w=r(\"y6dH\"),x=r(\"SR//\"),N=r(\"qzzo\"),S=r.n(N),I=r(\"qSnX\"),_=r.n(I),P=r(\"vDqi\"),k=r.n(P);function A(e,t,r,n,a,o,c){try{var i=e[o](c),l=i.value}catch(e){return void r(e)}i.done?t(l):Promise.resolve(l).then(n,a)}function C(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function c(e){A(o,n,a,c,i,\"next\",e)}function i(e){A(o,n,a,c,i,\"throw\",e)}c(void 0)}))}}var R=function(){var e=C(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.userId,e.next=3,k.a.get(\"/api/projects/get/\".concat(r));case 3:return n=e.sent,e.abrupt(\"return\",null==n?void 0:n.data);case 5:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=C(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.projectId,e.next=3,k.a.get(\"/api/project/get/\".concat(r));case 3:return n=e.sent,e.abrupt(\"return\",null==n?void 0:n.data);case 5:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=C(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.post(\"/api/projects/add\");case 2:return t=e.sent,e.abrupt(\"return\",null==t?void 0:t.data);case 4:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=C(regeneratorRuntime.mark((function e(t){var r,n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.projectIds,n=new FormData,r.forEach((function(e){return n.append(\"projects[]\",e)})),e.next=5,k.a.post(\"/api/projects/delete\",n);case 5:return a=e.sent,e.abrupt(\"return\",null==a?void 0:a.data);case 7:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=C(regeneratorRuntime.mark((function e(t){var r,n,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.projectIds,n=t.userId,a=new FormData,r.forEach((function(e){return a.append(\"projects[]\",e)})),e.next=5,k.a.post(\"/api/projects/leave/\".concat(n),a);case 5:return o=e.sent,e.abrupt(\"return\",null==o?void 0:o.data);case 7:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=C(regeneratorRuntime.mark((function e(t){var r,n,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.formRef,n=t.id,a=new FormData(r.current),e.next=4,k.a.post(\"/api/projects/edit/\".concat(n),a);case 4:return o=e.sent,e.abrupt(\"return\",null==o?void 0:o.data);case 6:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function T(e,t,r,n,a,o,c){try{var i=e[o](c),l=i.value}catch(e){return void r(e)}i.done?t(l):Promise.resolve(l).then(n,a)}function F(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function c(e){T(o,n,a,c,i,\"next\",e)}function i(e){T(o,n,a,c,i,\"throw\",e)}c(void 0)}))}}var q=function(){var e=F(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.projectImageId,e.next=3,k.a.get(\"/api/images/get/\".concat(r));case 3:return n=e.sent,e.abrupt(\"return\",null==n?void 0:n.data);case 5:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=F(regeneratorRuntime.mark((function e(t){var r,n,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.projectId,n=t.images,a=new FormData,n.forEach((function(e){return a.append(\"images[]\",e)})),e.next=5,k.a.post(\"/api/images/add/\".concat(r),a);case 5:return o=e.sent,e.abrupt(\"return\",null==o?void 0:o.data);case 7:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=F(regeneratorRuntime.mark((function e(t){var r,n,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.projectId,n=t.projectImageIds,a=new FormData,n.forEach((function(e){return a.append(\"projectImages[]\",e)})),e.next=5,k.a.post(\"/api/images/delete/\".concat(r),a);case 5:return o=e.sent,e.abrupt(\"return\",null==o?void 0:o.data);case 7:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=F(regeneratorRuntime.mark((function e(t){var r,n,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.formRef,n=t.id,a=new FormData(r.current),e.next=4,k.a.post(\"/api/images/edit/\".concat(n),a);case 4:return o=e.sent,e.abrupt(\"return\",null==o?void 0:o.data);case 6:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function X(e,t,r,n,a,o,c){try{var i=e[o](c),l=i.value}catch(e){return void r(e)}i.done?t(l):Promise.resolve(l).then(n,a)}function W(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function c(e){X(o,n,a,c,i,\"next\",e)}function i(e){X(o,n,a,c,i,\"throw\",e)}c(void 0)}))}}var J=function(){var e=W(regeneratorRuntime.mark((function e(t){var r,n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.userId,n=\"/api/users/get\",r&&(n=\"\".concat(n,\"/\").concat(r)),e.next=5,k.a.get(n);case 5:return a=e.sent,e.abrupt(\"return\",null==a?void 0:a.data);case 7:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=W(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get(\"/api/users/get/all\");case 2:return t=e.sent,e.abrupt(\"return\",null==t?void 0:t.data);case 4:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=W(regeneratorRuntime.mark((function e(t){var r,n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.projectId,n=t.email,e.next=3,k.a.post(\"/api/users/add/\".concat(r),{email:n});case 3:return a=e.sent,e.abrupt(\"return\",null==a?void 0:a.data);case 5:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=W(regeneratorRuntime.mark((function e(t){var r,n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.projectId,n=t.userId,e.next=3,k.a.post(\"/api/users/delete/\".concat(r),{userId:n});case 3:return a=e.sent,e.abrupt(\"return\",null==a?void 0:a.data);case 5:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=\"current_user\",H=\"project_by_user\",Z=\"project_by_id\",ee=\"project_image_by_id\",te=\"global_users\",re=r(\"yzbm\"),ne=r(\"yqFz\"),ae=r.n(ne),oe=r(\"RClv\"),ce=r.n(oe);function ie(){return(ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function le(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function se(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?le(Object(r),!0).forEach((function(t){ue(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):le(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ue(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function me(e){var t=e.projectId,r=e.positition,n=void 0===r?\"left\":r,a=e.children,o=Object(m.b)(),c=Object(re.a)({accept:\"image/*\",noClick:!0,onDrop:function(e){return f(\"add\",{images:e})}}),i=c.getRootProps,s=c.getInputProps,u=c.isDragActive,d=Object(x.a)(Q,{onSuccess:function(){return o.invalidateQueries([Z,t])}}),p=Object(x.a)(B,{onSuccess:function(){return o.invalidateQueries([Z,t])}}),f=function(e,r){\"add\"===e&&d.mutate(se({projectId:t},r)),\"delete\"===e&&p.mutate(se({projectId:t},r))};return l.a.createElement(\"div\",ie({className:\"dropzone\"},i()),l.a.createElement(\"input\",s()),l.a.createElement(\"div\",{className:\"row row--equalized gutters-5\"},a({updateProjectImages:f,isLoading:p.isLoading})),l.a.createElement(de,{addImageLoading:d.isLoading,updateProjectImages:f,isParentDragActive:u,positition:n}))}var de=function(e){var t=e.addImageLoading,r=e.updateProjectImages,n=e.isParentDragActive,a=e.positition,o=Object(re.a)({accept:\"image/*\",noDragEventsBubbling:!0,onDrop:function(e){return r(\"add\",{images:e})}}),c=o.getRootProps,i=o.getInputProps,s=o.isDragActive;return l.a.createElement(\"div\",ie({className:\"dropzone\"},c()),l.a.createElement(\"input\",i()),l.a.createElement(v.a,null,(s||n)&&l.a.createElement(b.a.div,ie({},g,{className:\"dropzone__overlay\"}),l.a.createElement(\"div\",{className:\"icon-wrapper icon-wrapper--secondary\",style:{\"--size\":\"75px\"}},l.a.createElement(w.a,{wrapper:\"svg\",className:\"icon icon--30 text-secondary\",src:ce.a})))),l.a.createElement(b.a.button,ie({},E,{key:\"add-project\",type:\"button\",className:\"icon-wrapper icon-wrapper--interactive icon-wrapper--secondary btn btn-link btn--add btn--add-\".concat(a),style:{\"--size\":\"75px\"}}),l.a.createElement(Ee,{loading:t,classes:{loaderClasses:\"position-absolute d-flex text-secondary\"},loaderSize:30},l.a.createElement(w.a,{wrapper:\"svg\",className:\"icon icon--30 text-secondary\",src:ae.a}))))};function pe(){return(pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function fe(e){var t=e.toggleModal,r=e.children,n=e.domElement,a=e.variant,o=void 0===a?\"default\":a,c=function(){return l.a.createElement(\"div\",{key:\"custom-modal\",className:\"custom-modal custom-modal--\".concat(o)},l.a.createElement(b.a.div,pe({className:\"custom-modal__overlay\",onClick:t},g)),l.a.createElement(b.a.article,pe({key:\"custom-modal__content\",className:\"custom-modal__content\"},j),l.a.createElement(\"div\",{className:\"container-fluid d-flex flex-grow-1\"},r)))};return n?Object(s.createPortal)(c(),n):c()}var ve=r(\"3h9j\"),be=r.n(ve);function ye(){return(ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ge(e){var t=e.header,r=e.content,n=e.boxOpen,a=e.toggleBox,o=e.children;return Object(s.createPortal)(l.a.createElement(v.a,null,n&&l.a.createElement(\"div\",{className:\"box\"},l.a.createElement(b.a.div,ye({className:\"box-overlay\"},g,{onClick:a})),l.a.createElement(b.a.div,ye({key:\"box-content\",className:\"box__content border p-5\"},h),l.a.createElement(\"div\",{className:\"box__header d-flex align-items-baseline\"},l.a.createElement(\"div\",{className:\"d-flex flex-column\"},l.a.createElement(\"p\",{className:\"text--lg mb-1\"},t),r&&l.a.createElement(\"p\",{className:\"text-muted--60 mb-0\"},r)),l.a.createElement(\"button\",{type:\"button\",className:\"custom-modal__close btn btn-link ml-auto\",onClick:a},l.a.createElement(w.a,{wrapper:\"svg\",className:\"icon icon--12\",src:be.a}))),l.a.createElement(\"div\",{className:\"box__body d-flex mt-4\"},o)))),document.body)}var he=r(\"iae6\");function je(){return(je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ee(e){var t=e.loading,r=e.children,n=e.loaderSize,a=void 0===n?40:n,o=e.classes,c=void 0===o?{}:o,i=c.loaderClasses,s=void 0===i?\"position-absolute d-flex\":i,u=c.defaultClasses,m=void 0===u?\"\":u;return l.a.createElement(v.a,{initial:!1},t?l.a.createElement(b.a.div,je({key:\"loader\",className:s},E),l.a.createElement(he.a,{color:\"inherit\",size:a})):l.a.createElement(b.a.div,je({key:\"default\",className:m},E),r))}var Oe=r(\"de8u\");function we(e){var t=e.isLoading,r=e.children;return l.a.createElement(v.a,null,t?l.a.createElement(b.a.div,g,l.a.createElement(Oe.a,{color:\"secondary\"})):l.a.createElement(\"div\",{key:\"children\"},r))}function xe(){return(xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ne(e){var t=e.user,r=e.project,n=e.variant,a=void 0===n?\"default\":n,o=e.size,c=void 0===o?\"md\":o,i=Object(m.b)(),s=r.id,u=r.author,d=t.id,p=t.email===u,f=[\"user\",\"user--\".concat(c),\"user--\".concat(a),p&&\"user--author\"].join(\" \"),v=Object(x.a)(Y,{onSuccess:function(){return i.invalidateQueries([Z,s])}});return l.a.createElement(\"div\",{className:f},l.a.createElement(Se,xe({isLoading:v.isLoading},t),\"interactive\"===a&&!p&&l.a.createElement(\"button\",{className:\"user__action btn btn-link p-0\",type:\"button\",onClick:function(){return v.mutate({projectId:s,userId:d})}},l.a.createElement(w.a,{wrapper:\"svg\",className:\"user__action-icon icon icon--14\",src:_.a}))),p&&l.a.createElement(\"div\",{className:\"user__status user__status--leader\"},l.a.createElement(w.a,{wrapper:\"svg\",className:\"user__status-icon icon text-tertiary mt-0\",src:S.a})))}var Se=function(e){var t=e.username,r=e.userColor,n=e.isLoading,a=e.children,o=t.split(\" \").map((function(e){return e[0].toUpperCase()}));return l.a.createElement(\"div\",{className:\"user__avatar\",style:{\"--theme\":r}},l.a.createElement(Ee,{loading:n,loaderSize:16},l.a.createElement(\"span\",{className:\"user__initials\"},o),a))},Ie=function(e){var t=e.username,r=e.email;return l.a.createElement(\"div\",{className:\"d-flex flex-column ml-3\"},l.a.createElement(\"p\",{className:\"mb-0\"},t),l.a.createElement(\"p\",{className:\"text-muted--60 text--xs\"},r))};function _e(){return(_e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Pe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ke(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ae(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ce(e){var t=e.users,r=e.layout,n=void 0===r?\"full\":r,a=Ae(e,[\"users\",\"layout\"]),o=\"minimal\"===n?7:1/0;return l.a.createElement(\"div\",{className:\"row align-items-center gutters-1\"},l.a.createElement(v.a,null,t.slice(0,o).map((function(e){return l.a.createElement(b.a.div,_e({layout:!0},E,{className:\"col-auto\",key:e.id}),l.a.createElement(Ne,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(r),!0).forEach((function(t){ke(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({user:e},a)))})),\"minimal\"===n&&t.length>7&&l.a.createElement(b.a.div,_e({layout:!0},E,{className:\"col-auto\",key:\"more\"}),l.a.createElement(\"p\",{className:\"text--xs text-muted--70 ml-1\"},\"+ \",t.length-o))))}var Re=r(\"X931\"),De=r.n(Re);function Le(){return(Le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ze(e){var t=e.user,r=e.userIndex,n=e.handleClick,a=e.isFocused,o=e.setFocusedUser,c=e.isLoading;Object(i.useEffect)((function(){a&&o(r)}),[a]),Object(i.useEffect)((function(){return function(){return o(0)}}),[]);var s=function(e){o(\"enter\"===e?r:0)};return l.a.createElement(\"button\",{className:\"user user--select \".concat(a&&\"is-focused\",\" user--xl\"),onClick:function(){return n(t.email)},onMouseEnter:function(){return s(\"enter\")},onMouseLeave:function(){return s(\"leave\")}},l.a.createElement(\"div\",{className:\"d-flex align-items-center\"},l.a.createElement(Se,Le({isLoading:c&&a},t)),l.a.createElement(Ie,t),l.a.createElement(\"div\",{className:\"user__add text-secondary rounded-circle ml-auto\"},l.a.createElement(w.a,{wrapper:\"svg\",className:\"user__add-icon icon icon--12 text-secondary\",src:De.a}))))}var Ue=r(\"0QAq\"),Me=r.n(Ue);function Te(e){var t=e.project,r=e.selected,n=e.updateSelected,a=t.title,o=t.projectImages,c=t.users,i=t.author,s=t.id;return l.a.createElement(d.b,{to:\"projects/\".concat(s),title:a,className:\"card card--link card--product \".concat(r.includes(s)&&\"is-selected\")},l.a.createElement(We,{projectImages:o}),l.a.createElement(\"div\",{className:\"card-body\"},l.a.createElement(\"div\",{className:\"d-flex flex-column\"},l.a.createElement(\"p\",{className:\"mb-2\"},a||\"Add a nice title\"),l.a.createElement(\"div\",{className:\"d-flex align-items-center\"},l.a.createElement(Ce,{users:c,project:{author:i},layout:\"minimal\"})))),l.a.createElement(\"div\",{className:\"card__select\"},l.a.createElement(\"div\",{className:\"card__select-toggle\",onClick:function(e){e.preventDefault(),n(s)}},l.a.createElement(w.a,{wrapper:\"svg\",className:\"card__select-icon icon icon--8\",src:Me.a}))))}var Fe=r(\"X8eM\"),qe=r.n(Fe);function Qe(){return(Qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Be(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&(\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"]);if(null==r)return;var n,a,o=[],c=!0,i=!1;try{for(r=r.call(e);!(c=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);c=!0);}catch(e){i=!0,a=e}finally{try{c||null==r.return||r.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if(\"string\"==typeof e)return $e(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===r&&e.constructor&&(r=e.constructor.name);if(\"Map\"===r||\"Set\"===r)return Array.from(e);if(\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $e(e,t)}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function $e(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Xe(e){var t=e.setNewProjectId,r=Be(Object(i.useState)(null),2),n=r[0],a=r[1],o=Be(Object(i.useState)(!1),2),c=o[0],s=o[1],u=Object(m.b)(),d=Object(f.a)([Z,n],(function(){return D({projectId:n})}),{enabled:!!n}).data;Object(i.useEffect)((function(){t(n)}),[n]);var p=Object(x.a)(L,{onSuccess:function(e){var t=e.id;return a(t)}}),y=Object(x.a)(M,{onSuccess:function(){return h()}}),g=function(){s(!c),c||p.mutate(),c&&(setTimeout((function(){a(null)}),250),h())},h=function(){return u.invalidateQueries(H)};return l.a.createElement(l.a.Fragment,null,l.a.createElement(b.a.button,Qe({},E,{key:\"add-project\",type:\"button\",className:\"icon-wrapper icon-wrapper--interactive icon-wrapper--secondary btn btn-link btn--add btn--add-right\",style:{\"--size\":\"75px\"},onClick:g}),l.a.createElement(w.a,{wrapper:\"svg\",className:\"icon icon--30 text-secondary\",src:qe.a})),l.a.createElement(v.a,null,c&&l.a.createElement(st,{project:d,updateProject:function(e){return y.mutate({formRef:e,id:n})},toggleModal:g})))}function We(e){var t=e.projectImages[0]||{},r=t.image,n=t.title;return l.a.createElement(\"div\",{className:\"card__image border m-2\"},r&&l.a.createElement(\"img\",{className:\"card-img-top\",src:r,srcSet:\"\".concat(r,\" 2x\"),alt:n}),!r&&l.a.createElement(w.a,{wrapper:\"svg\",className:\"icon icon--48 text-muted--40\",src:ae.a}))}var Je=r(\"g3U7\");function Ke(){return(Ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ve(e){var t,r=e.filteredUsers,n=e.query,a=e.handleClick,o=e.focusedUser,c=e.setFocusedUser,i=e.userMutationLoading,s=e.globalUsersLoading;return l.a.createElement(v.a,null,\"\"!==n&&l.a.createElement(b.a.ul,Ke({},g,{className:\"box__list list\"}),(t={email:n,username:\"New user\",userColor:\"#CC25E8\"},r.length>0?r.map((function(e,t){return l.a.createElement(b.a.li,Ke({},g,{key:e.id,className:\"list__item vr-3\"}),l.a.createElement(ze,{user:e,userIndex:t,handleClick:a,setFocusedUser:c,isFocused:t===o&&n,isLoading:i}))})):s?void 0:l.a.createElement(b.a.li,Ke({},g,{key:\"New user\",className:\"list__item is-focused vr-3\"}),l.a.createElement(ze,{user:t,userIndex:t,handleClick:a,setFocusedUser:c,isFocused:n.length,isLoading:i})))))}function Ye(e){var t=e.title,r=e.type,n=void 0===r?\"button\":r,a=e.theme,o=void 0===a?\"secondary\":a,c=e.size,i=void 0===c?\"sm\":c,s=e.extensionClasses,u=void 0===s?\"\":s,m=e.onClick,d=void 0===m?function(){}:m,p=e.isLoading,f=void 0!==p&&p;return l.a.createElement(b.a.button,{layout:!0,className:\"btn btn-\".concat(i,\" btn-\").concat(o,\" \").concat(u,\" d-flex align-items-center\"),type:n,onClick:d,style:{height:35}},l.a.createElement(Ee,{loading:f,loaderSize:16,classes:{loaderClasses:\"position-absolute d-flex text-secondary\"}},l.a.createElement(\"span\",{className:\"btn__text\"},t)))}function Ge(e){return/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(e)}function He(e){document.title=\"Parallel Dashboard | \".concat(e)}var Ze=\"ROLE_ADMIN\",et=\"ROLE_USER\",tt=\"ROLE_USER_BASIC\";function rt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&(\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"]);if(null==r)return;var n,a,o=[],c=!0,i=!1;try{for(r=r.call(e);!(c=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);c=!0);}catch(e){i=!0,a=e}finally{try{c||null==r.return||r.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if(\"string\"==typeof e)return nt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===r&&e.constructor&&(r=e.constructor.name);if(\"Map\"===r||\"Set\"===r)return Array.from(e);if(\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nt(e,t)}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function at(e){var t=e.users,r=e.project,n=e.toggleBox,a=rt(Object(i.useState)(\"\"),2),o=a[0],c=a[1],s=rt(Object(i.useState)(0),2),u=s[0],d=s[1],p=Object(f.a)(te,K),v=p.data,b=void 0===v?[]:v,y=p.isLoading,g=function(e,t,r){var n=r.toLowerCase(),a=t.map((function(e){return e.email}));return e.filter((function(e){var t=e.email;return!a.includes(t)})).filter((function(e){var t=e.email,r=e.username;return t.toLowerCase().includes(n)||r.toLowerCase().includes(n)}))}(b,t,o),h=Object(i.useRef)(),j=Object(m.b)(),E=Object(x.a)(V,{onSuccess:function(){j.invalidateQueries([Z,r.id]),j.invalidateQueries(te),h.current.select(),c(\"\")}});return l.a.createElement(\"div\",{className:\"d-flex flex-column flex-grow-1\"},l.a.createElement(Ce,{users:t,project:r,variant:\"interactive\",size:\"xl\"}),l.a.createElement(\"div\",{className:\"position-relative\"},l.a.createElement(\"label\",{className:\"sr-only\",htmlFor:\"userQuery\"},\"Search name or email\"),l.a.createElement(\"input\",{className:\"form-control form-control-sm form-control--search\",id:\"userQuery\",name:\"userQuery\",placeholder:\"Search name or email\",type:\"text\",autoFocus:!0,value:o,onChange:function(e){var t=e.target.value;return c(t)},onKeyDown:function(e){if([\"Enter\",\"Tab\"].includes(e.key)&&(e.preventDefault(),\"\"!==o&&null!==u)){var t=u in g?g[u]:u;Ge(t.email)&&E.mutate({projectId:r.id,email:t.email})}},autoComplete:\"off\",ref:h}),l.a.createElement(Ve,{filteredUsers:g,query:o,handleClick:function(e){Ge(e)&&E.mutate({projectId:r.id,email:e})},focusedUser:u,setFocusedUser:d,userMutationLoading:E.isLoading,globalUsersLoading:y})),l.a.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center mt-4\"},l.a.createElement(Ye,{title:\"Done\",onClick:n,extensionClasses:\"w-50 justify-content-center\"})))}function ot(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&(\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"]);if(null==r)return;var n,a,o=[],c=!0,i=!1;try{for(r=r.call(e);!(c=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);c=!0);}catch(e){i=!0,a=e}finally{try{c||null==r.return||r.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if(\"string\"==typeof e)return ct(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===r&&e.constructor&&(r=e.constructor.name);if(\"Map\"===r||\"Set\"===r)return Array.from(e);if(\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ct(e,t)}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function ct(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function it(e){var t=e.users,r=e.project,n=ot(Object(i.useState)(!1),2),a=n[0],o=n[1],c=function(){return o(!a)};return l.a.createElement(\"div\",{className:\"position-relative ml-2\"},l.a.createElement(\"button\",{className:\"btn btn-link user user--lg user--add\",type:\"button\",onClick:c},l.a.createElement(\"span\",{className:\"user__avatar\"},l.a.createElement(\"div\",{className:\"user__initials\"},l.a.createElement(w.a,{wrapper:\"svg\",className:\"user__icon icon icon--12 mt-0\",src:De.a})))),l.a.createElement(ge,{header:\"Select users\",content:\"Choose some users to collaborate with.\",boxOpen:a,toggleBox:c},l.a.createElement(at,{users:t,project:r,toggleBox:c})))}function lt(){return(lt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function st(e){var t=e.project,r=void 0===t?{}:t,n=e.updateProject,a=e.toggleModal,o=r.id,c=void 0===o?null:o,s=r.title,u=void 0===s?\"\":s,m=r.projectImages,d=void 0===m?[]:m,p=r.users,f=void 0===p?[]:p,v=Object(i.useRef)();return l.a.createElement(fe,{toggleModal:a,domElement:document.body},l.a.createElement(\"form\",{ref:v,method:\"POST\",className:\"custom-modal__form\",onSubmit:function(e){e.preventDefault(),a()}},l.a.createElement(\"div\",{className:\"custom-modal__header d-flex align-items-center pt-6 pt-md-12 pb-3\"},l.a.createElement(\"label\",{className:\"sr-only\",htmlFor:\"projectTitle\"},u),l.a.createElement(\"input\",{type:\"text\",className:\"form-control form-control--clear text--xl\",id:\"projectTitle\",name:\"title\",placeholder:\"The project name\",onBlur:function(){return n(v)},autoFocus:!0}),l.a.createElement(\"button\",{type:\"button\",className:\"custom-modal__close btn btn-link ml-auto\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\",onClick:a,tabIndex:\"-1\"},l.a.createElement(w.a,{wrapper:\"svg\",className:\"icon icon--14\",src:be.a}))),l.a.createElement(\"div\",{className:\"custom-modal__body pt-3 pb-12\"},l.a.createElement(\"div\",{className:\"row gutters-2\"},l.a.createElement(\"div\",{className:\"col-6\"},l.a.createElement(\"label\",{className:\"sr-only\",htmlFor:\"projectDescription\"},\"What's this project about?\"),l.a.createElement(Je.a,{className:\"form-control form-control--text form-control--clear mb-10\",id:\"projectDescription\",name:\"description\",placeholder:\"What's this project about?\",onBlur:function(){return n(v)}})),l.a.createElement(\"div\",{className:\"col-auto d-flex align-items-baseline ml-auto\"},l.a.createElement(Ce,{users:f,project:r,size:\"lg\"}),l.a.createElement(it,{users:f,project:r}))),l.a.createElement(me,{projectId:c,projectImages:d},(function(e){var t=e.updateProjectImages,r=e.isLoading;return d.map((function(e,n){var a=e.image,o=e.title,c=e.id;return l.a.createElement(b.a.div,lt({layout:!0},O(n),{className:\"col-12 col-md-6 col-lg-4 col-xl-3 col-xxl-2\",key:c}),l.a.createElement(\"div\",{className:\"dropzone__container\"},l.a.createElement(\"img\",{className:\"dropzone__image img-fluid\",src:a,alt:o}),l.a.createElement(\"button\",{type:\"button\",className:\"btn btn-link dropzone__image-delete p-0\",onClick:function(e){e.stopPropagation(),t(\"delete\",{projectImageIds:[c]})}},l.a.createElement(\"div\",{className:\"dropzone__image-delete-icon icon-wrapper icon-wrapper--danger mx-auto\",style:{\"--size\":\"50px\"}},l.a.createElement(Ee,{loading:r,loaderSize:20,classes:{loaderClasses:\"position-absolute d-flex text-danger\"}},l.a.createElement(w.a,{wrapper:\"svg\",className:\"icon icon--14 text-danger mt-0\",src:be.a}))))))}))}))),l.a.createElement(\"div\",{className:\"custom-modal__footer pb-6 pb-md-12\"},l.a.createElement(\"div\",{className:\"row gutters-0 w-100\"},l.a.createElement(\"div\",{className:\"col-12 col-lg-1 ml-auto\"},l.a.createElement(\"button\",{type:\"submit\",className:\"custom-modal__btn btn btn-block btn-secondary d-flex align-items-center justify-content-center\"},l.a.createElement(b.a.span,{className:\"btn-text\"},l.a.createElement(\"span\",null,\"Save\"))))))))}var ut=l.a.createContext();function mt(){return(mt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function dt(e){var t=e.selected,r=e.resetSelected,n=e.actions,a=Object(i.useContext)(ut).userRole;return l.a.createElement(b.a.div,mt({},j,{className:\"bar bar--project\"}),l.a.createElement(\"div\",{className:\"container-fluid\"},l.a.createElement(\"div\",{className:\"row\"},l.a.createElement(\"div\",{className:\"col-auto d-flex align-items-center\"},l.a.createElement(\"button\",{type:\"button\",className:\"bar__btn btn btn-link d-inline-flex text-white\",onClick:r},l.a.createElement(w.a,{wrapper:\"svg\",className:\"icon icon--14\",src:be.a})),l.a.createElement(\"p\",{className:\"ml-2 mb-0\"},t.length,\" selected\")),l.a.createElement(\"div\",{className:\"col-auto ml-auto\"},l.a.createElement(\"ul\",{className:\"bar__list list d-flex align-items-center\"},n.map((function(e,t){var r=e.title,n=e.theme,o=e.hasPermission,c=e.icon,i=e.iconSize,s=void 0===i?12:i,u=e.mutation,m=void 0===u?function(){}:u,d=e.isLoading,p=void 0!==d&&d;if(o.includes(a))return l.a.createElement(\"li\",{key:t,className:\"list__item\"},l.a.createElement(\"button\",{className:\"bar__btn btn btn-link d-flex align-items-center text-decoration-none\",onClick:m},l.a.createElement(\"div\",{className:\"icon-wrapper icon-wrapper--\".concat(n,\" icon-wrapper--interactive\")},l.a.createElement(Ee,{loading:p,loaderSize:12,classes:{loaderClasses:\"position-absolute d-flex text-\".concat(n)}},l.a.createElement(w.a,{wrapper:\"svg\",className:\"icon icon--\".concat(s,\" text-\").concat(n),src:c}))),l.a.createElement(\"span\",{className:\"btn__text text-white ml-2\"},r)))})))))))}var pt=r(\"SwPm\"),ft=r.n(pt),vt=r(\"1zgo\"),bt=r.n(vt);function yt(e){return function(e){if(Array.isArray(e))return jt(e)}(e)||function(e){if(\"undefined\"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e[\"@@iterator\"])return Array.from(e)}(e)||ht(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function gt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&(\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"]);if(null==r)return;var n,a,o=[],c=!0,i=!1;try{for(r=r.call(e);!(c=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);c=!0);}catch(e){i=!0,a=e}finally{try{c||null==r.return||r.return()}finally{if(i)throw a}}return o}(e,t)||ht(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function ht(e,t){if(e){if(\"string\"==typeof e)return jt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===r&&e.constructor&&(r=e.constructor.name),\"Map\"===r||\"Set\"===r?Array.from(e):\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?jt(e,t):void 0}}function jt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Et(){var e=gt(Object(i.useState)([]),2),t=e[0],r=e[1];return{selected:t,updateSelected:function(e){r((function(t){return t.includes(e)?t.filter((function(t){return t!==e})):[].concat(yt(t),[e])}))},resetSelected:function(){return r([])}}}function Ot(){return(Ot=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function wt(e){var t=e.projects,r=e.newProjectId,n=Et(),a=n.selected,o=n.updateSelected,c=n.resetSelected,s=Object(i.useContext)(ut).currentUser,u=Object(m.b)(),d=Object(x.a)(U,{onSuccess:function(){u.invalidateQueries(H),c()}}),p=Object(x.a)(z,{onSuccess:function(){u.invalidateQueries(H),c()}}),f=[{title:\"Leave\",theme:\"warning\",hasPermission:[\"user\",\"basic\"],icon:ft.a,mutation:function(){return d.mutate({projectIds:a,userId:s.id})},isLoading:d.isLoading},{title:\"Archive\",theme:\"secondary\",hasPermission:[\"admin\"],icon:bt.a},{title:\"Remove\",theme:\"danger\",hasPermission:[\"admin\"],icon:be.a,iconSize:10,mutation:function(){return p.mutate({projectIds:a})},isLoading:p.isLoading}];return l.a.createElement(l.a.Fragment,null,l.a.createElement(\"h1\",{className:\"h5 text-white mb-6\"},\"Your projects\"),l.a.createElement(v.a,null,0===t.length&&l.a.createElement(b.a.p,Ot({},g,{className:\"text-white mb-0 position-absolute\"}),\"You don't have any projects yet\")),l.a.createElement(\"div\",{className:\"row row--equalized gutters-5 \".concat(a.length>0&&\"has-selections\")},l.a.createElement(v.a,null,t.filter((function(e){return e.id!==r})).map((function(e,t){return l.a.createElement(b.a.div,Ot({},O(t),{key:e.id,className:\"col-12 col-md-6 col-lg-4 col-xl-3 col-xxl-2\",layout:!0}),l.a.createElement(Te,{project:e,selected:a,updateSelected:o}))})))),l.a.createElement(v.a,null,a.length>0&&l.a.createElement(dt,{selected:a,resetSelected:c,actions:f})))}function xt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&(\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"]);if(null==r)return;var n,a,o=[],c=!0,i=!1;try{for(r=r.call(e);!(c=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);c=!0);}catch(e){i=!0,a=e}finally{try{c||null==r.return||r.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if(\"string\"==typeof e)return Nt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===r&&e.constructor&&(r=e.constructor.name);if(\"Map\"===r||\"Set\"===r)return Array.from(e);if(\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Nt(e,t)}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var St=r(\"8Me5\"),It=r.n(St);function _t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&(\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"]);if(null==r)return;var n,a,o=[],c=!0,i=!1;try{for(r=r.call(e);!(c=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);c=!0);}catch(e){i=!0,a=e}finally{try{c||null==r.return||r.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if(\"string\"==typeof e)return Pt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===r&&e.constructor&&(r=e.constructor.name);if(\"Map\"===r||\"Set\"===r)return Array.from(e);if(\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pt(e,t)}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Pt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kt(e){var t=e.header,r=e.inputType,n=e.toggleBox,a=e.content,o=e.mutation,c=e.mutationId,s=e.mutationOnSuccess,u=_t(Object(i.useState)(a),2),m=u[0],d=u[1],p=Object(i.useRef)(),f=Object(i.useRef)();Object(i.useEffect)((function(){var e;null!=f&&f.current&&(null==f||null===(e=f.current)||void 0===e||e.select())}),[]);var v=Object(x.a)(o,{onSuccess:function(){s(),n()}});return l.a.createElement(\"form\",{ref:p,className:\"d-flex flex-column align-items-center flex-grow-1\",onSubmit:function(e){e.preventDefault(),v.mutate({formRef:p,id:c})}},l.a.createElement(\"label\",{className:\"sr-only\",htmlFor:r},t),l.a.createElement(Je.a,{className:\"form-control form-control-sm form-control--text\",id:r,name:r,type:\"text\",value:m,onChange:function(e){var t=e.target.value;return d(t)},ref:f}),l.a.createElement(Ye,{title:\"Done\",extensionClasses:\"mt-4 w-50 justify-content-center\",isLoading:v.isLoading,type:\"submit\"}))}function At(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ct(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&(\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"]);if(null==r)return;var n,a,o=[],c=!0,i=!1;try{for(r=r.call(e);!(c=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);c=!0);}catch(e){i=!0,a=e}finally{try{c||null==r.return||r.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if(\"string\"==typeof e)return Dt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===r&&e.constructor&&(r=e.constructor.name);if(\"Map\"===r||\"Set\"===r)return Array.from(e);if(\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dt(e,t)}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Lt(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function zt(e){var t=e.inputType,r=e.children,n=Lt(e,[\"inputType\",\"children\"]),a=Rt(Object(i.useState)(!1),2),o=a[0],c=a[1],s=Object(i.useContext)(ut).userRole,u=\"Edit \".concat(t,\"...\"),m=function(){return c(!o)};return l.a.createElement(\"div\",{className:\"editable d-flex align-items-center position-relative\"},l.a.createElement(\"div\",{className:\"editable__content\"},r),\"admin\"===s&&l.a.createElement(l.a.Fragment,null,l.a.createElement(\"button\",{className:\"editable__toggle btn btn-link icon-wrapper icon-wrapper--secondary icon-wrapper--interactive stretched-link ml-3\",onClick:m,style:{\"--size\":\"25px\"}},l.a.createElement(w.a,{wrapper:\"svg\",className:\"icon icon--10 text-secondary\",src:It.a})),l.a.createElement(ge,{header:u,boxOpen:o,toggleBox:m},l.a.createElement(kt,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?At(Object(r),!0).forEach((function(t){Ct(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):At(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({header:u,inputType:t,toggleBox:m},n)))))}function Ut(e){var t=e.title,r=e.description,n=e.users,a=e.id,o=e.author,c=e.email,s={id:a,author:o,email:c},u=Object(i.useContext)(ut).userRole,d=Object(m.b)(),p=function(){d.invalidateQueries([Z,a])};return l.a.createElement(\"div\",{className:\"row mb-6\"},l.a.createElement(\"div\",{className:\"col-12 col-lg-6\"},l.a.createElement(\"div\",{className:\"\".concat(\"admin\"===u&&\"editable\",\" d-flex align-items-center mb-2\")},l.a.createElement(zt,{inputType:\"title\",content:t,mutation:M,mutationId:a,mutationOnSuccess:p},l.a.createElement(\"h1\",{className:\"h5 mb-0 text-white\"},t||\"Add a nice title\"))),l.a.createElement(\"div\",{className:\"\".concat(\"admin\"===u&&\"editable\",\" d-flex align-items-center mb-2\")},l.a.createElement(zt,{inputType:\"description\",content:r,mutation:M,mutationId:a,mutationOnSuccess:p},l.a.createElement(\"p\",{className:\"text-muted--70 mb-0\"},r?l.a.createElement(\"span\",null,r):l.a.createElement(\"span\",{className:\"text-muted--40\"},\"What's this project about? Set the context, the goals, the constraints\"))))),l.a.createElement(\"div\",{className:\"col-auto d-flex align-items-baseline ml-auto\"},l.a.createElement(Ce,{users:n,project:s,size:\"lg\"}),\"admin\"===u&&l.a.createElement(it,{users:n,project:s})))}function Mt(){return(Mt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Tt(e){var t=e.projectImage,r=e.projectId,n=e.selected,a=e.updateSelected,o=t.id,c=t.title,i=t.image,s=Object(m.b)();return l.a.createElement(\"article\",{className:\"card card--link card--product \".concat(n.includes(o)&&\"is-selected\")},l.a.createElement(d.b,{to:\"/projects/\".concat(r,\"/review/\").concat(o),title:c},l.a.createElement(\"div\",{className:\"card__image border m-2\"},l.a.createElement(\"img\",{className:\"card-img-top\",src:i,srcSet:\"\".concat(i,\" 2x\"),alt:c}))),l.a.createElement(\"div\",{className:\"card-body\"},l.a.createElement(zt,{inputType:\"title\",projectId:r,content:c,mutation:$,mutationId:o,mutationOnSuccess:function(){s.invalidateQueries([Z,r])}},l.a.createElement(b.a.p,Mt({},g,{className:\"mb-0\"}),c))),l.a.createElement(\"div\",{className:\"card__select\"},l.a.createElement(\"div\",{className:\"card__select-toggle\",onClick:function(e){e.preventDefault(),a(o)}},l.a.createElement(w.a,{wrapper:\"svg\",className:\"card__select-icon icon icon--8\",src:Me.a}))))}function Ft(){return(Ft=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function qt(e){var t=e.projectImages,r=e.projectId,n=Et(),a=n.selected,o=n.updateSelected,c=n.resetSelected,s=Object(m.b)(),u=Object(i.useContext)(ut).userRole,d=Object(x.a)(B,{onSuccess:function(){s.invalidateQueries([Z,r]),c()}}),p=[{title:\"Remove\",theme:\"danger\",hasPermission:[\"admin\"],icon:be.a,iconSize:10,mutation:function(){return d.mutate({projectId:r,projectImageIds:a})},isLoading:d.isLoading}];return l.a.createElement(l.a.Fragment,null,l.a.createElement(\"div\",{className:\"\".concat(a.length>0&&\"has-selections\")},\"admin\"===u?l.a.createElement(me,{projectId:r,projectImages:t,positition:\"right\"},(function(){return l.a.createElement(Qt,{projectImages:t,projectId:r,selected:a,updateSelected:o})})):l.a.createElement(\"div\",{className:\"row gutters-5\"},l.a.createElement(Qt,{projectImages:t,projectId:r,selected:a,updateSelected:o}))),l.a.createElement(v.a,null,a.length>0&&l.a.createElement(dt,{selected:a,resetSelected:c,actions:p})))}var Qt=function(e){var t=e.projectImages,r=e.projectId,n=e.selected,a=e.updateSelected;return l.a.createElement(v.a,null,t.map((function(e,t){return l.a.createElement(b.a.div,Ft({},O(t),{key:e.id,className:\"col-12 col-md-6 col-lg-4 col-xl-3 col-xxl-2\",layout:!0}),l.a.createElement(Tt,{projectImage:e,projectId:r,selected:n,updateSelected:a}))})))};function Bt(e){var t=e.id,r=e.title,n=e.description,a=Object(i.useContext)(ut).userRole,o=Object(m.b)(),c=function(){o.invalidateQueries([ee,t])};return l.a.createElement(\"div\",{className:\"row mb-6\"},l.a.createElement(\"div\",{className:\"col-12 col-xl-6\"},l.a.createElement(\"div\",{className:\"\".concat(\"admin\"===a&&\"editable\",\" d-flex align-items-center mb-2\")},l.a.createElement(zt,{inputType:\"title\",projectId:t,content:r,mutation:$,mutationId:t,mutationOnSuccess:c},l.a.createElement(\"h1\",{className:\"h5 mb-0 text-white\"},r||\"Add a nice title\"))),l.a.createElement(\"div\",{className:\"\".concat(\"admin\"===a&&\"editable\",\" d-flex align-items-center mb-2\")},l.a.createElement(zt,{inputType:\"description\",content:n,mutation:$,mutationId:t,mutationOnSuccess:c},l.a.createElement(\"p\",{className:\"text-muted--70 mb-0\"},n?l.a.createElement(\"span\",null,n):l.a.createElement(\"span\",{className:\"text-muted--40\"},\"Add a decription - the purpose, context, objectives\"))))))}function $t(e){var t=e.title,r=e.image;return l.a.createElement(\"div\",{className:\"review mx-n12 mb-n12 mt-12\"},l.a.createElement(\"img\",{className:\"review__image img-fluid w-100\",src:r,srcSet:\"\".concat(r,\" 2x\"),alt:t}))}var Xt=[{name:\"project-overview\",path:\"/projects\",component:function(e){var t=e.currentUserLoading,r=xt(Object(i.useState)(),2),n=r[0],a=r[1],o=Object(i.useContext)(ut),c=o.currentUser,s=o.userRole,u=null!=c&&c.id?c.id:atob(location.search.replace(\"?\",\"\")),m=Object(f.a)(H,(function(){return R({userId:u})}),{enabled:!!u}),d=m.isLoading,p=m.data,v=(void 0===p?{}:p).projects,b=void 0===v?[]:v,y=t||d;return l.a.createElement(we,{isLoading:y},\"admin\"===s&&l.a.createElement(Xe,{setNewProjectId:a}),l.a.createElement(wt,{projects:b,newProjectId:n}))}},{name:\"project-detail\",path:\"/projects/:id\",component:function(e){var t=e.currentUserLoading,r=Object(p.f)().id,n=Object(f.a)([Z,parseInt(r)],(function(){return D({projectId:r})}),{onSuccess:function(e){return He(e.title)}}),a=n.isLoading,o=n.data,c=void 0===o?{}:o,i=c.title,s=c.description,u=c.users,m=c.id,d=c.author,v=c.email,b=c.projectImages,y=t||a;return l.a.createElement(we,{isLoading:y},l.a.createElement(Ut,{title:i,description:s,users:u,id:m,author:d,email:v}),l.a.createElement(qt,{projectImages:b,projectId:m}))}},{name:\"project-review\",path:\"/projects/:id/review/:id\",component:function(e){var t=e.currentUserLoading,r=Object(p.f)().id,n=Object(f.a)([ee,parseInt(r)],(function(){return q({projectImageId:r})}),{onSuccess:function(e){return He(e.title)}}),a=n.isLoading,o=n.data,c=void 0===o?{}:o,i=t||a;return l.a.createElement(we,{isLoading:i},l.a.createElement(Bt,c),l.a.createElement($t,c))}}];function Wt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Jt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wt(Object(r),!0).forEach((function(t){Kt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Kt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&(\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"]);if(null==r)return;var n,a,o=[],c=!0,i=!1;try{for(r=r.call(e);!(c=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);c=!0);}catch(e){i=!0,a=e}finally{try{c||null==r.return||r.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if(\"string\"==typeof e)return Yt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===r&&e.constructor&&(r=e.constructor.name);if(\"Map\"===r||\"Set\"===r)return Array.from(e);if(\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yt(e,t)}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Yt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Gt(){var e=Vt(Object(i.useState)([]),2),t=e[0],r=e[1],n=Vt(Object(i.useState)([]),2),a=n[0],o=n[1],c=atob(location.search.replace(\"?\",\"\")),s=Object(f.a)(G,(function(){return J({userId:c})}),{onSuccess:function(e){var t=e.user;r(t),o(function(e){var t=e.roles;return t.includes(Ze)?\"admin\":t.includes(et)?\"user\":t.includes(tt)?\"basic\":void 0}(t))}}).isLoading;return l.a.createElement(d.a,null,l.a.createElement(p.c,null,l.a.createElement(ut.Provider,{value:{currentUser:t,userRole:a}},Xt.map((function(e){var t=e.path,r=e.component,n=e.props;return l.a.createElement(p.a,{key:t,path:t,exact:!0},l.a.createElement(r,Jt(Jt({},n),{},{currentUserLoading:s})))})))))}var Ht=new u.a({defaultOptions:{queries:{refetchOnWindowFocus:!1}}}),Zt=document.getElementById(\"app\");null!==Zt&&Object(s.render)(l.a.createElement(m.a,{client:Ht},l.a.createElement(Gt,null)),Zt)},Km7m:function(e,t,r){},RClv:function(e,t,r){e.exports=r.p+\"img/upload.47dd6e02.svg\"},SwPm:function(e,t,r){e.exports=r.p+\"img/leave.e3a2f47d.svg\"},UIGm:function(e,t){function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a,o=function(){\"use strict\";function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.DOM={el:t},this.DOM.toggle=this.DOM.el.querySelector(\".alert__btn\"),this.onInit()}var t,r,a;return t=e,(r=[{key:\"onInit\",value:function(){var e=this;this.DOM.toggle.addEventListener(\"click\",(function(){return e.toggle()}))}},{key:\"toggle\",value:function(){this.DOM.el.style.opacity=0,this.DOM.el.style.visibility=\"hidden\",this.DOM.el.style.transform=\"translateY(100%)\"}}])&&n(t.prototype,r),a&&n(t,a),e}(),c=document.querySelectorAll(\"[data-alert]\");(a=c,function(e){if(Array.isArray(e))return r(e)}(a)||function(e){if(\"undefined\"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e[\"@@iterator\"])return Array.from(e)}(a)||function(e,t){if(e){if(\"string\"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(a)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()).forEach((function(e){return new o(e)}))},X8eM:function(e,t,r){e.exports=r.p+\"img/add_project.abae0cbd.svg\"},X931:function(e,t,r){e.exports=r.p+\"img/add_user.912dfe06.svg\"},qSnX:function(e,t,r){e.exports=r.p+\"img/delete.cfd679bb.svg\"},qzzo:function(e,t,r){e.exports=r.p+\"img/star.93031288.svg\"},yqFz:function(e,t,r){e.exports=r.p+\"img/add_image.04547f7e.svg\"}});","extractedComments":[]}