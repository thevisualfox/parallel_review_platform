{"code":"!function(e){function t(t){for(var r,c,i=t[0],l=t[1],s=t[2],m=0,d=[];m<i.length;m++)c=i[m],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&d.push(a[c][0]),a[c]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(u&&u(t);d.length;)d.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,i=1;i<n.length;i++){var l=n[i];0!==a[l]&&(r=!1)}r&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},a={main:0},o=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,\"a\",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p=\"/build/app/\";var i=window.webpackJsonp=window.webpackJsonp||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var s=0;s<i.length;s++)t(i[s]);var u=l;o.push([\"9XVo\",0]),n()}({\"+Bf/\":function(e,t,n){e.exports=n.p+\"img/success.c9b1caae.svg\"},\"/5e6\":function(e,t,n){e.exports=n.p+\"img/warning.c09f2b53.svg\"},\"0QAq\":function(e,t,n){e.exports=n.p+\"img/check.bf18523b.svg\"},\"1zgo\":function(e,t,n){e.exports=n.p+\"img/archive.fa6029eb.svg\"},\"3h9j\":function(e,t,n){e.exports=n.p+\"img/close.ff2e588e.svg\"},\"8Me5\":function(e,t,n){e.exports=n.p+\"img/edit.dc6498b8.svg\"},\"9XVo\":function(e,t,n){\"use strict\";n.r(t);n(\"Km7m\"),n(\"ls82\");var r=n(\"q1tI\"),a=n.n(r),o=n(\"i8i4\"),c=n(\"PC6D\"),i=n(\"+QN0\"),l=n(\"55Ip\"),s=n(\"Ty5D\"),u=n(\"Uvq/\"),m=n(\"FGyW\"),d=n(\"8PNI\"),p=n(\"ATyU\"),f=n(\"y6dH\"),v=[.65,0,.35,1],g={initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{ease:v,duration:.2}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return{initial:{y:e,opacity:0},animate:{y:0,opacity:1,transition:{type:\"spring\",damping:42,stiffness:800}},exit:{y:e,opacity:0,transition:{type:\"spring\",damping:42,stiffness:1200}}}},y={initial:{y:\"100%\"},animate:{y:\"0%\",transition:{type:\"spring\",damping:41,stiffness:600}},exit:{y:\"100%\",transition:{type:\"spring\",damping:41,stiffness:1200}}},h={initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{ease:v,duration:.2}},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return{initial:{opacity:0,y:35},animate:{opacity:1,y:0,transition:{type:\"spring\",damping:30,stiffness:450,delay:.035*e}},exit:{opacity:0,scale:.25,transition:{type:\"spring\",damping:30,stiffness:600}}}},w=n(\"3h9j\"),j=n.n(w),O=a.a.createContext();function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function N(e){var t=e.selected,n=e.resetSelected,o=e.actions,c=Object(r.useContext)(O).userRole;return a.a.createElement(p.a.div,x({},y,{className:\"bar bar--project\"}),a.a.createElement(\"div\",{className:\"container-fluid\"},a.a.createElement(\"div\",{className:\"row\"},a.a.createElement(\"div\",{className:\"col-auto d-flex align-items-center\"},a.a.createElement(\"button\",{type:\"button\",className:\"bar__btn btn btn-link d-inline-flex text-white\",onClick:n},a.a.createElement(f.a,{wrapper:\"svg\",className:\"icon icon--14\",src:j.a})),a.a.createElement(\"p\",{className:\"ml-2 mb-0\"},t.length,\" selected\")),a.a.createElement(\"div\",{className:\"col-auto ml-auto\"},a.a.createElement(\"ul\",{className:\"bar__list list d-flex align-items-center\"},o.map((function(e,t){var n=e.title,r=e.theme,o=e.hasPermission,i=e.icon,l=e.iconSize,s=void 0===l?12:l,u=e.mutation,m=void 0===u?function(){}:u,d=e.isLoading,p=void 0!==d&&d;if(o.includes(c))return a.a.createElement(\"li\",{key:t,className:\"list__item\"},a.a.createElement(\"button\",{className:\"bar__btn btn btn-link d-flex align-items-center text-decoration-none\",onClick:m},a.a.createElement(\"div\",{className:\"icon-wrapper icon-wrapper--\".concat(r,\" icon-wrapper--interactive\")},a.a.createElement(Lt,{loading:p,loaderSize:12,classes:{loaderClasses:\"position-absolute d-flex text-\".concat(r)}},a.a.createElement(f.a,{wrapper:\"svg\",className:\"icon icon--\".concat(s,\" text-\").concat(r),src:i}))),a.a.createElement(\"span\",{className:\"btn__text text-white ml-2\"},n)))})))))))}var _=n(\"YaYb\"),S=n.n(_),P=n(\"/5e6\"),I=n.n(P),k=n(\"ScKw\"),C=n.n(k),A=n(\"+Bf/\"),R=n.n(A),L={warning:{title:\"Warning\",icon:I.a},danger:{title:\"Error\",icon:C.a},success:{title:\"Success\",icon:R.a}};function D(e){var t=e.message,n=e.appearance,r=e.closeToast;return a.a.createElement(\"div\",{className:\"alert alert--notification\",role:\"alert\",\"data-alert\":!0},a.a.createElement(\"div\",{className:\"d-flex align-items-center w-100\"},a.a.createElement(\"div\",{className:\"alert__icon-wrapper alert__icon-wrapper--\".concat(n,\" mr-2\")},a.a.createElement(f.a,{wrapper:\"svg\",className:\"alert__icon icon icon--12\",src:L[n].icon})),a.a.createElement(\"p\",{className:\"mb-0\"},L[n].title),a.a.createElement(\"button\",{className:\"alert__btn btn btn-link ml-auto\",type:\"button\",onClick:r},a.a.createElement(f.a,{wrapper:\"svg\",className:\"icon icon--10\",src:S.a}))),a.a.createElement(\"span\",{className:\"alert__message text--sm text-muted--70 mr-lg-8\"},t))}var U=n(\"H1Be\"),M=n.n(U),T=n(\"CrUY\"),F=n.n(T);function z(){return a.a.createElement(\"div\",{className:\"background\"},a.a.createElement(\"img\",{className:\"background__image\",src:M.a,srcSet:F.a,alt:\"Background\"}))}function q(e){var t=e.title,n=e.subtitle,r=e.toggleModal;return a.a.createElement(\"div\",{className:\"custom-modal__header d-flex align-items-start\"},a.a.createElement(\"div\",{className:\"d-flex align-items-center w-100\"},a.a.createElement(\"div\",{className:\"d-flex flex-column w-100\"},a.a.createElement(\"div\",{className:\"d-flex align-items-center\"},a.a.createElement(\"p\",{className:\"custom-modal__title\"},t),a.a.createElement(\"button\",{type:\"button\",className:\"custom-modal__close btn btn-link ml-auto\",onClick:r},a.a.createElement(f.a,{wrapper:\"svg\",className:\"icon icon--12\",src:j.a}))),n&&a.a.createElement(\"p\",{className:\"custom-modal__subtitle\"},n))))}function B(e){return function(e){if(Array.isArray(e))return W(e)}(e)||function(e){if(\"undefined\"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e[\"@@iterator\"])return Array.from(e)}(e)||$(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&(\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"]);if(null==n)return;var r,a,o=[],c=!0,i=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);c=!0);}catch(e){i=!0,a=e}finally{try{c||null==n.return||n.return()}finally{if(i)throw a}}return o}(e,t)||$(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function $(e,t){if(e){if(\"string\"==typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?W(e,t):void 0}}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H(){var e=Q(Object(r.useState)([]),2),t=e[0],n=e[1];return{selected:t,updateSelected:function(e){n((function(t){return t.includes(e)?t.filter((function(t){return t!==e})):[].concat(B(t),[e])}))},resetSelected:function(){return n([])}}}function Y(e){return function(e){if(Array.isArray(e))return X(e)}(e)||function(e){if(\"undefined\"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e[\"@@iterator\"])return Array.from(e)}(e)||function(e,t){if(!e)return;if(\"string\"==typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===n&&e.constructor&&(n=e.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(e);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X(e,t)}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function K(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];Object(r.useEffect)((function(){document.title=\"\".concat(e?e+\" | Parallel Dashboard\":document.title)}),Y(t))}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&(\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"]);if(null==n)return;var r,a,o=[],c=!0,i=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);c=!0);}catch(e){i=!0,a=e}finally{try{c||null==n.return||n.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if(\"string\"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===n&&e.constructor&&(n=e.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(e);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J(e,t)}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function G(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,a=Object(r.useRef)();Object(r.useEffect)((function(){a.current=t}),[t]),Object(r.useEffect)((function(){if(n&&n.addEventListener){var t=function(e){return a.current(e)};return n.addEventListener(e,t),function(){n.removeEventListener(e,t)}}}),[e,n])}function Z(e,t){G(\"keyup\",Object(r.useCallback)((function(n){var r=n.key;[\"Escape\"].includes(r)&&e&&t()})))}function ee(){return(ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function te(e){var t=e.title,n=e.subtitle,r=e.modalOpen,c=e.toggleModal,i=e.children,l=e.renderOnBody,s=void 0===l||l,u=e.extensionClasses,m=e.components,f=(void 0===m?{}:m).HeaderComponent,v=void 0===f?q:f;Z(r,c);var y=function(){return a.a.createElement(d.a,null,r&&a.a.createElement(\"div\",{className:\"custom-modal custom-modal--center \".concat(u)},a.a.createElement(p.a.div,ee({className:\"custom-modal-overlay\"},g,{onClick:c})),a.a.createElement(p.a.div,ee({key:\"custom-modal-content\",className:\"custom-modal__content border p-5\"},b()),a.a.createElement(v,{title:t,subtitle:n,toggleModal:c}),a.a.createElement(\"div\",{className:\"custom-modal__body d-flex mt-2\"},i))))};return s?Object(o.createPortal)(y(),document.body):y()}var ne=n(\"0QAq\"),re=n.n(ne);function ae(e){var t,n=e.title,o=e.type,c=void 0===o?\"button\":o,i=e.theme,l=void 0===i?\"secondary\":i,s=e.size,u=void 0===s?\"sm\":s,m=e.extensionClasses,d=void 0===m?\"\":m,p=e.onClick,f=void 0===p?function(){}:p,v=e.isLoading,g=void 0!==v&&v,b=e.contentType,y=void 0===b?\"text\":b,h=e.children,E=Object(r.useRef)(),w=null===(t=E.current)||void 0===t?void 0:t.getBoundingClientRect().height;return a.a.createElement(\"button\",{ref:E,className:\"btn btn-\".concat(u,\" btn-\").concat(l,\" \").concat(d,\" d-flex align-items-center\"),style:{height:w},type:c,onClick:f},\"text\"===y?a.a.createElement(oe,{title:n,isLoading:g,children:h}):a.a.createElement(ce,{isLoading:g}))}var oe=function(e){var t=e.title,n=e.isLoading,r=e.children;return a.a.createElement(Lt,{loading:n,loaderSize:16,classes:{loaderClasses:\"position-absolute d-flex text-secondary\",defaultClasses:\"d-flex align-items-center\"}},a.a.createElement(\"span\",{className:\"btn__text\"},t),r)},ce=function(e){var t=e.isLoading;return a.a.createElement(\"div\",{className:\"icon-wrapper icon-wrapper--secondary icon-wrapper--interactive\"},a.a.createElement(Lt,{loading:t,loaderSize:14,classes:{loaderClasses:\"position-absolute d-flex text-secondary\",defaultClasses:\"d-flex\"}},a.a.createElement(f.a,{wrapper:\"svg\",className:\"alert__icon icon icon--10 text-secondary\",src:re.a})))},ie=n(\"yzbm\"),le=n(\"SR//\");function se(e){return/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(e)}var ue=\"ROLE_ADMIN\",me=\"ROLE_USER\",de=\"ROLE_USER_BASIC\";var pe=n(\"fKpH\"),fe=n.n(pe);function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach((function(t){be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ye(e,t,n,r,a,o,c){try{var i=e[o](c),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,a)}function he(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){ye(o,r,a,c,i,\"next\",e)}function i(e){ye(o,r,a,c,i,\"throw\",e)}c(void 0)}))}}var Ee={maxWidth:300,maxHeight:300,quality:100,rotation:0,outputType:\"file\"};function we(e,t){return je.apply(this,arguments)}function je(){return(je=he(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",new Promise((function(e){fe.a.imageFileResizer(t,n.maxWidth,n.maxHeight,t.path.split(\".\").pop(),n.quality,n.rotation,(function(t){e(t)}),n.outputType)})));case 1:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function Oe(e){return xe.apply(this,arguments)}function xe(){return(xe=he(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we(t,ge(ge({},Ee),{},{maxWidth:268,maxHeight:236}));case 2:return n=e.sent,e.next=5,we(t,ge(ge({},Ee),{},{maxWidth:536,maxHeight:472}));case 5:return r=e.sent,e.abrupt(\"return\",{original:t,thumbnail:n,thumbnailRetina:r});case 7:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function Ne(e){return _e.apply(this,arguments)}function _e(){return(_e=he(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(){var e=he(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe(t);case 2:return e.abrupt(\"return\",e.sent);case 3:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:return e.abrupt(\"return\",e.sent);case 3:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}var Se=n(\"yqFz\"),Pe=n.n(Se),Ie=n(\"RClv\"),ke=n.n(Ie),Ce=n(\"vDqi\"),Ae=n.n(Ce);function Re(e,t,n,r,a,o,c){try{var i=e[o](c),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,a)}function Le(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){Re(o,r,a,c,i,\"next\",e)}function i(e){Re(o,r,a,c,i,\"throw\",e)}c(void 0)}))}}var De=function(){var e=Le(regeneratorRuntime.mark((function e(t){var n,r,a,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.formRef,r=t.userId,a=\"/api/signup\",r&&(a=\"/api/signup/\".concat(r)),o=new FormData(n.current),e.next=6,Ae.a.post(a,o);case 6:return c=e.sent,e.abrupt(\"return\",null==c?void 0:c.data);case 8:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ue=function(){var e=Le(regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.formRef,r=new FormData(n.current),e.next=4,Ae.a.post(\"/api/login\",{email:r.get(\"email\"),password:r.get(\"password\")});case 4:return a=e.sent,e.abrupt(\"return\",null==a?void 0:a.data);case 6:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Me=function(){var e=Le(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae.a.get(\"/api/logout\");case 2:return t=e.sent,e.abrupt(\"return\",null==t?void 0:t.data);case 4:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Te(e,t,n,r,a,o,c){try{var i=e[o](c),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,a)}function Fe(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){Te(o,r,a,c,i,\"next\",e)}function i(e){Te(o,r,a,c,i,\"throw\",e)}c(void 0)}))}}var ze=function(){var e=Fe(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.userId,e.next=3,Ae.a.get(\"/api/projects/get/\".concat(n));case 3:return r=e.sent,e.abrupt(\"return\",null==r?void 0:r.data);case 5:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),qe=function(){var e=Fe(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.next=3,Ae.a.get(\"/api/project/get/\".concat(n));case 3:return r=e.sent,e.abrupt(\"return\",null==r?void 0:r.data);case 5:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Be=function(){var e=Fe(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae.a.post(\"/api/projects/add\");case 2:return t=e.sent,e.abrupt(\"return\",null==t?void 0:t.data);case 4:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Qe=function(){var e=Fe(regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectIds,r=new FormData,n.forEach((function(e){return r.append(\"projects[]\",e)})),e.next=5,Ae.a.post(\"/api/projects/delete\",r);case 5:return a=e.sent,e.abrupt(\"return\",null==a?void 0:a.data);case 7:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$e=function(){var e=Fe(regeneratorRuntime.mark((function e(t){var n,r,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectIds,r=t.userId,a=new FormData,n.forEach((function(e){return a.append(\"projects[]\",e)})),e.next=5,Ae.a.post(\"/api/projects/leave/\".concat(r),a);case 5:return o=e.sent,e.abrupt(\"return\",null==o?void 0:o.data);case 7:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),We=function(){var e=Fe(regeneratorRuntime.mark((function e(t){var n,r,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.formRef,r=t.id,a=new FormData(n.current),e.next=4,Ae.a.post(\"/api/projects/edit/\".concat(r),a);case 4:return o=e.sent,e.abrupt(\"return\",null==o?void 0:o.data);case 6:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function He(e,t,n,r,a,o,c){try{var i=e[o](c),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,a)}function Ye(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){He(o,r,a,c,i,\"next\",e)}function i(e){He(o,r,a,c,i,\"throw\",e)}c(void 0)}))}}var Xe=function(){var e=Ye(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectImageId,e.next=3,Ae.a.get(\"/api/images/get/\".concat(n));case 3:return r=e.sent,e.abrupt(\"return\",null==r?void 0:r.data);case 5:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ke=function(){var e=Ye(regeneratorRuntime.mark((function e(t){var n,r,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.images,a=new FormData,r.forEach((function(e,t){a.append(\"images[\".concat(t,\"][original]\"),e.original),a.append(\"images[\".concat(t,\"][thumbnail]\"),e.thumbnail),a.append(\"images[\".concat(t,\"][thumbnailRetina]\"),e.thumbnailRetina)})),e.next=5,Ae.a.post(\"/api/images/add/\".concat(n),a);case 5:return o=e.sent,e.abrupt(\"return\",null==o?void 0:o.data);case 7:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ve=function(){var e=Ye(regeneratorRuntime.mark((function e(t){var n,r,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.projectImageIds,a=new FormData,r.forEach((function(e){return a.append(\"projectImages[]\",e)})),e.next=5,Ae.a.post(\"/api/images/delete/\".concat(n),a);case 5:return o=e.sent,e.abrupt(\"return\",null==o?void 0:o.data);case 7:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Je=function(){var e=Ye(regeneratorRuntime.mark((function e(t){var n,r,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.formRef,r=t.id,a=new FormData(n.current),e.next=4,Ae.a.post(\"/api/images/edit/\".concat(r),a);case 4:return o=e.sent,e.abrupt(\"return\",null==o?void 0:o.data);case 6:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Ge(e,t,n,r,a,o,c){try{var i=e[o](c),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,a)}function Ze(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){Ge(o,r,a,c,i,\"next\",e)}function i(e){Ge(o,r,a,c,i,\"throw\",e)}c(void 0)}))}}var et=function(){var e=Ze(regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.userId,r=\"/api/users/get\",n&&(r=\"\".concat(r,\"/\").concat(n)),e.next=5,Ae.a.get(r);case 5:return a=e.sent,e.abrupt(\"return\",null==a?void 0:a.data);case 7:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),tt=function(){var e=Ze(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae.a.get(\"/api/users/get/all\");case 2:return t=e.sent,e.abrupt(\"return\",null==t?void 0:t.data);case 4:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),nt=function(){var e=Ze(regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.email,e.next=3,Ae.a.post(\"/api/users/add/\".concat(n),{email:r,referer:window.location.pathname.replace(\"/\",\"\")});case 3:return a=e.sent,e.abrupt(\"return\",null==a?void 0:a.data);case 5:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),rt=function(){var e=Ze(regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.userId,e.next=3,Ae.a.post(\"/api/users/delete/\".concat(n),{userId:r});case 3:return a=e.sent,e.abrupt(\"return\",null==a?void 0:a.data);case 5:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function at(e,t,n,r,a,o,c){try{var i=e[o](c),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,a)}function ot(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){at(o,r,a,c,i,\"next\",e)}function i(e){at(o,r,a,c,i,\"throw\",e)}c(void 0)}))}}var ct=function(){var e=ot(regeneratorRuntime.mark((function e(t){var n,r,a,o,c,i,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.phaseId,r=t.userId,a=t.comment,o=t.mentioned,c=t.position,(i=new FormData).append(\"userId\",r),i.append(\"comment\",a),i.append(\"positionX\",c.xPercent),i.append(\"positionY\",c.yPercent),i.append(\"referer\",window.location.pathname.replace(\"/\",\"\")),o.length&&i.append(\"mentioned[]\",o),e.next=10,Ae.a.post(\"/api/comments/add/\".concat(n),i);case 10:return l=e.sent,e.abrupt(\"return\",null==l?void 0:l.data);case 12:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),it=function(){var e=ot(regeneratorRuntime.mark((function e(t){var n,r,a,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commentId,r=t.reply,a=t.mentioned,(o=new FormData).append(\"reply\",r),o.append(\"referer\",window.location.pathname.replace(\"/\",\"\")),a.length&&o.append(\"mentioned[]\",a),e.next=7,Ae.a.post(\"/api/comments/reply/\".concat(n),o);case 7:return c=e.sent,e.abrupt(\"return\",null==c?void 0:c.data);case 9:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),lt=\"current_user\",st=\"project_by_user\",ut=\"project_by_id\",mt=\"project_image_by_id\",dt=\"global_users\";function pt(){return(pt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ft(Object(n),!0).forEach((function(t){gt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bt(e,t,n,r,a,o,c){try{var i=e[o](c),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,a)}function yt(e){var t=e.projectId,n=e.positition,r=void 0===n?\"left\":n,o=e.children,c=Object(i.b)(),l=Object(ie.a)({accept:\"image/*\",noClick:!0,onDrop:function(e){return f(\"add\",{images:e})}}),s=l.getRootProps,u=l.getInputProps,m=l.isDragActive,d=Object(le.a)(Ke,{onSuccess:function(){return c.invalidateQueries([ut,t])}}),p=Object(le.a)(Ve,{onSuccess:function(){return c.invalidateQueries([ut,t])}}),f=function(){var e,n=(e=regeneratorRuntime.mark((function e(n,r){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(\"add\"!==n||!r.images){e.next=5;break}return e.next=3,Ne(r.images);case 3:a=e.sent,d.mutate({projectId:t,images:a});case 5:\"delete\"===n&&p.mutate(vt({projectId:t},r));case 6:case\"end\":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){bt(o,r,a,c,i,\"next\",e)}function i(e){bt(o,r,a,c,i,\"throw\",e)}c(void 0)}))});return function(e,t){return n.apply(this,arguments)}}();return a.a.createElement(\"div\",pt({className:\"dropzone\"},s()),a.a.createElement(\"input\",u()),a.a.createElement(ht,{addImageLoading:d.isLoading,updateProjectImages:f,isParentDragActive:m,positition:r}),a.a.createElement(\"div\",{className:\"row row--equalized gutters-5\"},o({updateProjectImages:f,isLoading:p.isLoading})))}var ht=function(e){var t=e.addImageLoading,n=e.updateProjectImages,r=e.isParentDragActive,o=e.positition,c=Object(ie.a)({accept:\"image/*\",noDragEventsBubbling:!0,onDrop:function(e){return n(\"add\",{images:e})}}),i=c.getRootProps,l=c.getInputProps,s=c.isDragActive;return a.a.createElement(\"div\",pt({className:\"dropzone\"},i()),a.a.createElement(\"input\",l()),a.a.createElement(d.a,null,(s||r)&&a.a.createElement(p.a.div,pt({},g,{className:\"dropzone__overlay\"}),a.a.createElement(\"div\",{className:\"icon-wrapper icon-wrapper--secondary\",style:{\"--size\":75}},a.a.createElement(f.a,{wrapper:\"svg\",className:\"icon icon--30 text-secondary\",src:ke.a})))),a.a.createElement(p.a.button,pt({},h,{key:\"add-project\",type:\"button\",className:\"icon-wrapper icon-wrapper--interactive icon-wrapper--secondary btn btn-link btn--add btn--add-\".concat(o),style:{\"--size\":75}}),a.a.createElement(Lt,{loading:t,classes:{loaderClasses:\"position-absolute d-flex text-secondary\"},loaderSize:30},a.a.createElement(f.a,{wrapper:\"svg\",className:\"icon icon--30 text-secondary\",src:Pe.a}))))},Et=n(\"g3U7\");function wt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&(\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"]);if(null==n)return;var r,a,o=[],c=!0,i=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);c=!0);}catch(e){i=!0,a=e}finally{try{c||null==n.return||n.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if(\"string\"==typeof e)return jt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===n&&e.constructor&&(n=e.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(e);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jt(e,t)}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function jt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ot(e){var t=e.title,n=e.inputType,o=e.toggleModal,c=e.content,i=e.mutation,l=e.mutationId,s=e.mutationOnSuccess,u=wt(Object(r.useState)(c),2),m=u[0],d=u[1],p=Object(r.useRef)(),f=Object(r.useRef)();Object(r.useEffect)((function(){var e;null!=f&&f.current&&(null==f||null===(e=f.current)||void 0===e||e.select())}),[]);var v=Object(le.a)(i,{onSuccess:function(){s(),o()}});return a.a.createElement(\"form\",{ref:p,className:\"d-flex flex-column align-items-center flex-grow-1 position-relative\",onSubmit:function(e){e.preventDefault(),v.mutate({formRef:p,id:l})}},a.a.createElement(\"label\",{className:\"sr-only\",htmlFor:n},t),a.a.createElement(Et.a,{className:\"form-control form-control--text\",id:n,name:n,type:\"text\",value:m,onChange:function(e){var t=e.target.value;return d(t)},ref:f}),a.a.createElement(ae,{theme:\"default\",contentType:\"icon\",extensionClasses:\"form-control-btn\",isLoading:v.isLoading,type:\"submit\"}))}var xt=n(\"8Me5\"),Nt=n.n(xt);function _t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function St(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&(\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"]);if(null==n)return;var r,a,o=[],c=!0,i=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);c=!0);}catch(e){i=!0,a=e}finally{try{c||null==n.return||n.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if(\"string\"==typeof e)return It(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===n&&e.constructor&&(n=e.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(e);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return It(e,t)}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function It(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kt(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ct(e){var t=e.inputType,n=e.children,o=kt(e,[\"inputType\",\"children\"]),c=Pt(Object(r.useState)(!1),2),i=c[0],l=c[1],s=Object(r.useContext)(O).userRole,u=\"Editing \".concat(t),m=function(){return l(!i)};return a.a.createElement(\"div\",{className:\"editable d-flex align-items-center position-relative\"},a.a.createElement(\"div\",{className:\"editable__content\"},n),\"admin\"===s&&a.a.createElement(a.a.Fragment,null,a.a.createElement(\"button\",{className:\"editable__toggle btn btn-link icon-wrapper icon-wrapper--secondary icon-wrapper--interactive stretched-link ml-3\",onClick:m,style:{\"--size\":25}},a.a.createElement(f.a,{wrapper:\"svg\",className:\"icon icon--10 text-secondary\",src:Nt.a})),a.a.createElement(te,{title:u,subtitle:\"Save when ready\",modalOpen:i,toggleModal:m},a.a.createElement(Ot,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_t(Object(n),!0).forEach((function(t){St(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({title:u,inputType:t,toggleModal:m},o)))))}var At=n(\"iae6\");function Rt(){return(Rt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Lt(e){var t=e.loading,n=e.children,r=e.loaderSize,o=void 0===r?40:r,c=e.classes,i=void 0===c?{}:c,l=i.loaderClasses,s=void 0===l?\"position-absolute d-flex\":l,u=i.defaultClasses,m=void 0===u?\"\":u;return a.a.createElement(d.a,{initial:!1},t?a.a.createElement(p.a.div,Rt({key:\"loader\",className:s},h),a.a.createElement(At.a,{color:\"inherit\",size:o})):a.a.createElement(p.a.div,Rt({key:\"default\",className:m},h),n))}function Dt(){return(Dt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ut(e){var t=e.toggleSlideIn,n=e.children,r=e.domElement,c=e.variant,i=void 0===c?\"default\":c,l=function(){return a.a.createElement(\"div\",{key:\"slide-in\",className:\"slide-in slide-in--\".concat(i)},a.a.createElement(p.a.div,Dt({className:\"slide-in__overlay\",onClick:t},g)),a.a.createElement(p.a.article,Dt({key:\"slide-in__content\",className:\"slide-in__content\"},y),a.a.createElement(\"div\",{className:\"container-fluid d-flex flex-grow-1\"},n)))};return r?Object(o.createPortal)(l(),r):l()}var Mt=n(\"de8u\");function Tt(e){var t=e.isLoading,n=e.children;return a.a.createElement(d.a,null,t?a.a.createElement(p.a.div,g,a.a.createElement(Mt.a,{color:\"secondary\"})):a.a.createElement(\"div\",{key:\"children\"},n))}function Ft(e){var t=e.children;return a.a.createElement(\"main\",{className:\"main-content\"},a.a.createElement(\"section\",{className:\"pane py-5 py-lg-10\"},a.a.createElement(\"div\",{className:\"container-fluid\"},t)))}var zt=n(\"X931\"),qt=n.n(zt);function Bt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&(\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"]);if(null==n)return;var r,a,o=[],c=!0,i=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);c=!0);}catch(e){i=!0,a=e}finally{try{c||null==n.return||n.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if(\"string\"==typeof e)return Qt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===n&&e.constructor&&(n=e.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(e);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qt(e,t)}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Qt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $t(e){var t=e.users,n=e.project,o=Bt(Object(r.useState)(!1),2),c=o[0],i=o[1],l=function(){return i(!c)};return a.a.createElement(\"div\",{className:\"position-relative ml-2\"},a.a.createElement(\"button\",{className:\"btn btn-link user user--lg user--add\",type:\"button\",onClick:l},a.a.createElement(\"span\",{className:\"user__avatar\"},a.a.createElement(\"div\",{className:\"user__initials\"},a.a.createElement(f.a,{wrapper:\"svg\",className:\"user__icon icon icon--12 mt-0\",src:qt.a})))),a.a.createElement(te,{title:\"Select users\",subtitle:\"Choose some users to collaborate with.\",modalOpen:c,toggleModal:l},a.a.createElement(Yt,{users:t,project:n,toggleModal:l})))}function Wt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&(\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"]);if(null==n)return;var r,a,o=[],c=!0,i=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);c=!0);}catch(e){i=!0,a=e}finally{try{c||null==n.return||n.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if(\"string\"==typeof e)return Ht(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===n&&e.constructor&&(n=e.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(e);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ht(e,t)}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yt(e){var t=e.users,n=e.project,o=e.toggleModal,c=Wt(Object(r.useState)(\"\"),2),l=c[0],s=c[1],m=Wt(Object(r.useState)(0),2),d=m[0],p=m[1],f=Object(u.a)(dt,tt),v=f.data,g=void 0===v?[]:v,b=f.isLoading,y=function(e,t,n){var r=n.toLowerCase(),a=t.map((function(e){return e.email}));return e.filter((function(e){var t=e.email;return!a.includes(t)})).filter((function(e){var t=e.email,n=e.display;return t.toLowerCase().includes(r)||n.toLowerCase().includes(r)}))}(g,t,l),h=Object(r.useRef)(),E=Object(i.b)(),w=Object(le.a)(nt,{onSuccess:function(){E.invalidateQueries([ut,n.id]),E.invalidateQueries(dt),h.current.select(),s(\"\")}});return a.a.createElement(\"div\",{className:\"d-flex flex-column flex-grow-1\"},a.a.createElement(Cr,{users:t,project:n,variant:\"interactive\",size:\"lg\"}),a.a.createElement(\"div\",{className:\"position-relative\"},a.a.createElement(\"label\",{className:\"sr-only\",htmlFor:\"userQuery\"},\"Search name or email\"),a.a.createElement(\"input\",{className:\"form-control form-control--search\",id:\"userQuery\",name:\"userQuery\",placeholder:\"Search name or email\",type:\"text\",autoFocus:!0,value:l,onChange:function(e){var t=e.target.value;return s(t)},onKeyDown:function(e){if([\"Enter\",\"Tab\"].includes(e.key)&&(e.preventDefault(),\"\"!==l&&null!==d)){var t=d in y?y[d]:d;se(t.email)&&w.mutate({projectId:n.id,email:t.email})}},autoComplete:\"off\",ref:h}),a.a.createElement(ae,{onClick:o,extensionClasses:\"form-control-btn\",contentType:\"icon\",theme:\"default\"}),a.a.createElement(Kt,{filteredUsers:y,query:l,handleClick:function(e){var t=e.email;se(t)&&w.mutate({projectId:n.id,email:t})},focusedUser:d,setFocusedUser:p,userMutationLoading:w.isLoading,globalUsersLoading:b})))}function Xt(){return(Xt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Kt(e){var t,n=e.filteredUsers,r=e.query,o=e.handleClick,c=e.focusedUser,i=e.setFocusedUser,l=e.userMutationLoading,s=e.globalUsersLoading;return a.a.createElement(d.a,null,\"\"!==r&&a.a.createElement(p.a.ul,Xt({},g,{className:\"custom-modal__list list\"}),(t={email:r,organisation:r,display:\"New user\",userColor:\"291, 81%, 53%\"},n.length>0?n.map((function(e,t){return a.a.createElement(p.a.li,Xt({},g,{key:e.id,className:\"list__item vr-3\"}),a.a.createElement(Rr,{user:e,userIndex:t,handleClick:o,setFocusedUser:i,isFocused:t===c&&r,isLoading:l}))})):s?void 0:a.a.createElement(p.a.li,Xt({},g,{key:\"New user\",className:\"list__item is-focused vr-3\"}),a.a.createElement(Rr,{user:t,userIndex:t,handleClick:o,setFocusedUser:i,isFocused:r.length,isLoading:l})))))}function Vt(e){var t=e.project,n=e.selected,r=e.updateSelected,o=t.title,c=t.projectImages,i=t.users,s=t.author,u=t.id;return a.a.createElement(l.b,{to:\"projects/\".concat(u),title:o,className:\"card card--link card--product \".concat(n.includes(u)&&\"is-selected\")},a.a.createElement(rn,{projectImages:c}),a.a.createElement(\"div\",{className:\"card-body\"},a.a.createElement(\"div\",{className:\"d-flex flex-column\"},a.a.createElement(\"p\",{className:\"mb-2\"},o||\"Add a nice title\"),a.a.createElement(\"div\",{className:\"d-flex align-items-center\"},a.a.createElement(Cr,{users:i,project:{author:s},layout:\"minimal\"})))),a.a.createElement(\"div\",{className:\"card__select\"},a.a.createElement(\"div\",{className:\"card__select-toggle\",onClick:function(e){e.preventDefault(),r(u)}},a.a.createElement(f.a,{wrapper:\"svg\",className:\"card__select-icon icon icon--8\",src:re.a}))))}var Jt=n(\"X8eM\"),Gt=n.n(Jt);function Zt(){return(Zt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function en(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&(\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"]);if(null==n)return;var r,a,o=[],c=!0,i=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);c=!0);}catch(e){i=!0,a=e}finally{try{c||null==n.return||n.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if(\"string\"==typeof e)return tn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===n&&e.constructor&&(n=e.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(e);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tn(e,t)}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function tn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nn(e){var t=e.setNewProjectId,n=en(Object(r.useState)(null),2),o=n[0],c=n[1],l=en(Object(r.useState)(!1),2),s=l[0],m=l[1],v=Object(i.b)(),g=Object(u.a)([ut,o],(function(){return qe({projectId:o})}),{enabled:!!o}).data;Object(r.useEffect)((function(){t(o)}),[o]);var b=Object(le.a)(Be,{onSuccess:function(e){var t=e.id;return c(t)}}),y=Object(le.a)(We,{onSuccess:function(){return w()}}),E=function(){m(!s),s||b.mutate(),s&&(setTimeout((function(){c(null)}),250),w())},w=function(){return v.invalidateQueries(st)};return a.a.createElement(a.a.Fragment,null,a.a.createElement(p.a.button,Zt({},h,{key:\"add-project\",type:\"button\",className:\"icon-wrapper icon-wrapper--interactive icon-wrapper--secondary btn btn-link btn--add btn--add-right\",style:{\"--size\":75},onClick:E}),a.a.createElement(f.a,{wrapper:\"svg\",className:\"icon icon--30 text-secondary\",src:Gt.a})),a.a.createElement(d.a,null,s&&a.a.createElement(on,{project:g,updateProject:function(e){return y.mutate({formRef:e,id:o})},toggleSlideIn:E})))}function rn(e){var t=e.projectImages[0]||{},n=t.phases,r=void 0===n?[]:n,o=t.title,c=(r[r.length-1]||{}).image;return a.a.createElement(\"div\",{className:\"card__image border m-2\"},c&&a.a.createElement(\"img\",{className:\"card-img-top\",src:c.thumbnail,srcSet:\"\".concat(c.thumbnailRetina,\" 2x\"),alt:o}),!c&&a.a.createElement(f.a,{wrapper:\"svg\",className:\"icon icon--48 text-muted--40\",src:Pe.a}))}function an(){return(an=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function on(e){var t=e.project,n=void 0===t?{}:t,o=e.updateProject,c=e.toggleSlideIn,i=n.id,l=void 0===i?null:i,s=n.title,u=void 0===s?\"\":s,m=n.projectImages,v=void 0===m?[]:m,g=n.users,b=void 0===g?[]:g,y=Object(r.useRef)();return a.a.createElement(Ut,{toggleSlideIn:c,domElement:document.body},a.a.createElement(\"form\",{ref:y,method:\"POST\",className:\"slide-in__form\",onSubmit:function(e){e.preventDefault(),c()}},a.a.createElement(\"div\",{className:\"slide-in__header d-flex align-items-center pt-6 pt-md-12 pb-3\"},a.a.createElement(\"label\",{className:\"sr-only\",htmlFor:\"projectTitle\"},u),a.a.createElement(\"input\",{type:\"text\",className:\"form-control form-control--clear text--xl\",id:\"projectTitle\",name:\"title\",placeholder:\"The project name\",onBlur:function(){return o(y)},autoFocus:!0}),a.a.createElement(\"button\",{type:\"button\",className:\"slide-in__close btn btn-link ml-auto\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\",onClick:c,tabIndex:\"-1\"},a.a.createElement(f.a,{wrapper:\"svg\",className:\"icon icon--14\",src:j.a}))),a.a.createElement(\"div\",{className:\"slide-in__body pt-3 pb-12\"},a.a.createElement(\"div\",{className:\"row gutters-2\"},a.a.createElement(\"div\",{className:\"col-6\"},a.a.createElement(\"label\",{className:\"sr-only\",htmlFor:\"projectDescription\"},\"What's this project about?\"),a.a.createElement(Et.a,{className:\"form-control form-control--text form-control--clear mb-10\",id:\"projectDescription\",name:\"description\",placeholder:\"What's this project about?\",onBlur:function(){return o(y)}})),a.a.createElement(\"div\",{className:\"col-auto d-flex align-items-baseline ml-auto\"},a.a.createElement(Cr,{users:b,project:n,size:\"lg\"}),a.a.createElement($t,{users:b,project:n}))),a.a.createElement(yt,{projectId:l,projectImages:v},(function(e){var t=e.updateProjectImages,n=e.isLoading;return a.a.createElement(d.a,null,v.map((function(e,r){return a.a.createElement(cn,{key:e.id,projectImage:e,projectImageIndex:r,updateProjectImages:t,isLoading:n})})))}))),a.a.createElement(\"div\",{className:\"slide-in__footer pb-6 pb-md-12\"},a.a.createElement(\"div\",{className:\"row gutters-0 w-100\"},a.a.createElement(\"div\",{className:\"col-12 col-lg-1 ml-auto\"},a.a.createElement(\"button\",{type:\"submit\",className:\"slide-in__btn btn btn-block btn-secondary d-flex align-items-center justify-content-center\"},a.a.createElement(p.a.span,{className:\"btn-text\"},a.a.createElement(\"span\",null,\"Save\"))))))))}var cn=function(e){var t=e.projectImage,n=e.projectImageIndex,r=e.updateProjectImages,o=e.isLoading,c=t.title,i=t.id,l=t.phases,s=void 0===l?[]:l,u=(s[s.length-1]||{}).image;return a.a.createElement(p.a.div,an({layout:!0},E(n),{className:\"col-12 col-md-6 col-lg-4 col-xl-3 col-xxl-2\",key:i}),a.a.createElement(\"div\",{className:\"dropzone__container\"},a.a.createElement(\"img\",{className:\"dropzone__image img-fluid\",src:u.thumbnail,srcSet:\"\".concat(u.thumbnailRetina,\" 2x\"),alt:c}),a.a.createElement(\"button\",{type:\"button\",className:\"btn btn-link dropzone__image-delete p-0\",onClick:function(e){e.stopPropagation(),r(\"delete\",{projectImageIds:[i]})}},a.a.createElement(\"div\",{className:\"dropzone__image-delete-icon icon-wrapper icon-wrapper--danger mx-auto\",style:{\"--size\":50}},a.a.createElement(Lt,{loading:o,loaderSize:20,classes:{loaderClasses:\"position-absolute d-flex text-danger\"}},a.a.createElement(f.a,{wrapper:\"svg\",className:\"icon icon--14 text-danger mt-0\",src:j.a}))))))},ln=n(\"SwPm\"),sn=n.n(ln),un=n(\"1zgo\"),mn=n.n(un);function dn(){return(dn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function pn(e){var t=e.projects,n=e.newProjectId,o=H(),c=o.selected,l=o.updateSelected,s=o.resetSelected,u=Object(r.useContext)(O).currentUser,m=Object(i.b)(),f=Object(le.a)($e,{onSuccess:function(){m.invalidateQueries(st),s()}}),v=Object(le.a)(Qe,{onSuccess:function(){m.invalidateQueries(st),s()}}),b=[{title:\"Leave\",theme:\"warning\",hasPermission:[\"user\",\"basic\"],icon:sn.a,mutation:function(){return f.mutate({projectIds:c,userId:u.id})},isLoading:f.isLoading},{title:\"Archive\",theme:\"secondary\",hasPermission:[\"admin\"],icon:mn.a},{title:\"Remove\",theme:\"danger\",hasPermission:[\"admin\"],icon:j.a,iconSize:10,mutation:function(){return v.mutate({projectIds:c})},isLoading:v.isLoading}];return a.a.createElement(a.a.Fragment,null,a.a.createElement(\"h1\",{className:\"h5 text-white mb-6\"},\"Your projects\"),a.a.createElement(d.a,null,0===t.length&&a.a.createElement(p.a.p,dn({},g,{className:\"text-white mb-0 position-absolute\"}),\"You don't have any projects yet\")),a.a.createElement(\"div\",{className:\"row row--equalized gutters-5 \".concat(c.length>0&&\"has-selections\")},a.a.createElement(d.a,null,t.filter((function(e){return e.id!==n})).map((function(e,t){return a.a.createElement(p.a.div,dn({},E(t),{key:e.id,className:\"col-12 col-md-6 col-lg-4 col-xl-3 col-xxl-2\",layout:!0}),a.a.createElement(Vt,{project:e,selected:c,updateSelected:l}))})))),a.a.createElement(d.a,null,c.length>0&&a.a.createElement(N,{selected:c,resetSelected:s,actions:b})))}function fn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&(\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"]);if(null==n)return;var r,a,o=[],c=!0,i=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);c=!0);}catch(e){i=!0,a=e}finally{try{c||null==n.return||n.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if(\"string\"==typeof e)return vn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===n&&e.constructor&&(n=e.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(e);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vn(e,t)}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function vn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gn(e){var t=e.title,n=e.description,o=e.users,c=e.id,l=e.author,s=e.email,u={id:c,author:l,email:s},m=Object(r.useContext)(O).userRole,d=Object(i.b)(),p=function(){d.invalidateQueries([ut,c])};return a.a.createElement(\"div\",{className:\"row mb-6\"},a.a.createElement(\"div\",{className:\"col-12 col-lg-6\"},a.a.createElement(\"div\",{className:\"\".concat(\"admin\"===m&&\"editable\",\" d-flex align-items-center mb-2\")},a.a.createElement(Ct,{inputType:\"title\",content:t,mutation:We,mutationId:c,mutationOnSuccess:p},a.a.createElement(\"h1\",{className:\"h5 mb-0 text-white\"},t||\"Add a nice title\"))),a.a.createElement(\"div\",{className:\"\".concat(\"admin\"===m&&\"editable\",\" d-flex align-items-center mb-2\")},a.a.createElement(Ct,{inputType:\"description\",content:n,mutation:We,mutationId:c,mutationOnSuccess:p},a.a.createElement(\"p\",{className:\"text-muted--70 mb-0\"},n?a.a.createElement(\"span\",null,n):a.a.createElement(\"span\",{className:\"text-muted--40\"},\"What's this project about? Set the context, the goals, the constraints\"))))),a.a.createElement(\"div\",{className:\"col-auto d-flex align-items-baseline ml-auto\"},a.a.createElement(Cr,{users:o,project:u,size:\"lg\"}),\"admin\"===m&&a.a.createElement($t,{users:o,project:u})))}function bn(){return(bn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function yn(e){var t=e.projectImage,n=e.projectId,r=e.selected,o=e.updateSelected,c=t.id,s=t.title,u=t.phases,m=void 0===u?[]:u,d=(m[m.length-1]||{}).image,v=Object(i.b)();return a.a.createElement(\"article\",{className:\"card card--link card--product \".concat(r.includes(c)&&\"is-selected\")},a.a.createElement(l.b,{to:\"/projects/\".concat(n,\"/review/\").concat(c),title:s},a.a.createElement(\"div\",{className:\"card__image border m-2\"},a.a.createElement(\"img\",{className:\"card-img-top\",src:d.thumbnail,srcSet:\"\".concat(d.thumbnailRetina,\" 2x\"),alt:s}))),a.a.createElement(\"div\",{className:\"card-body\"},a.a.createElement(Ct,{inputType:\"title\",projectId:n,content:s,mutation:Je,mutationId:c,mutationOnSuccess:function(){v.invalidateQueries([ut,n])}},a.a.createElement(p.a.p,bn({},g,{className:\"mb-0\"}),s))),a.a.createElement(\"div\",{className:\"card__select\"},a.a.createElement(\"div\",{className:\"card__select-toggle\",onClick:function(e){e.preventDefault(),o(c)}},a.a.createElement(f.a,{wrapper:\"svg\",className:\"card__select-icon icon icon--8\",src:re.a}))))}function hn(){return(hn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function En(e){var t=e.projectImages,n=e.projectId,o=H(),c=o.selected,l=o.updateSelected,s=o.resetSelected,u=Object(i.b)(),m=Object(r.useContext)(O).userRole,p=Object(le.a)(Ve,{onSuccess:function(){u.invalidateQueries([ut,n]),s()}}),f=[{title:\"Remove\",theme:\"danger\",hasPermission:[\"admin\"],icon:j.a,iconSize:10,mutation:function(){return p.mutate({projectId:n,projectImageIds:c})},isLoading:p.isLoading}];return a.a.createElement(a.a.Fragment,null,a.a.createElement(\"div\",{className:\"\".concat(c.length>0&&\"has-selections\")},\"admin\"===m?a.a.createElement(yt,{projectId:n,projectImages:t,positition:\"right\"},(function(){return a.a.createElement(wn,{projectImages:t,projectId:n,selected:c,updateSelected:l})})):a.a.createElement(\"div\",{className:\"row gutters-5\"},a.a.createElement(wn,{projectImages:t,projectId:n,selected:c,updateSelected:l}))),a.a.createElement(d.a,null,c.length>0&&a.a.createElement(N,{selected:c,resetSelected:s,actions:f})))}var wn=function(e){var t=e.projectImages,n=e.projectId,r=e.selected,o=e.updateSelected;return a.a.createElement(d.a,null,t.map((function(e,t){return a.a.createElement(p.a.div,hn({},E(t),{key:e.id,className:\"col-12 col-md-6 col-lg-4 col-xl-3 col-xxl-2\",layout:!0}),a.a.createElement(yn,{projectImage:e,projectId:n,selected:r,updateSelected:o}))})))};var jn=n(\"668i\");function On(){return(On=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function xn(e){var t=e.xPercent,n=e.yPercent,o=e.author,c=e.commentIndex,i=e.commentOpen,l=e.toggleComment,s=e.children,u=Object(r.useContext)(O).currentUser,m=o||u;return a.a.createElement(jn.a,{onClickAway:function(){i&&l()}},a.a.createElement(p.a.div,{layout:!0,transition:{duration:.1},className:\"review__interaction\",style:{\"--x\":t,\"--y\":n}},a.a.createElement(p.a.button,On({},h,{className:\"review__marker icon-wrapper icon-wrapper--secondary btn btn-link text-reset\",style:{\"--theme\":\"\".concat(m.userColor)},onClick:l}),c&&a.a.createElement(\"span\",{className:\"text--xs\"},c)),a.a.createElement(\"div\",null,s)))}function Nn(e){return function(e){if(Array.isArray(e))return _n(e)}(e)||function(e){if(\"undefined\"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e[\"@@iterator\"])return Array.from(e)}(e)||function(e,t){if(!e)return;if(\"string\"==typeof e)return _n(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===n&&e.constructor&&(n=e.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(e);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _n(e,t)}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function _n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Sn(e){var t=e.comment,n=e.globalUsers,r=e.setReplyToUser,o=e.renderAuthor,c=void 0!==o&&o,i=t.author,l=t.created,s=t.comment,u=t.comments;return a.a.createElement(a.a.Fragment,null,a.a.createElement(\"div\",{className:\"comment\"},c&&a.a.createElement(\"div\",{className:\"d-flex align-items-center mb-2\"},a.a.createElement(Rn,{user:i}),a.a.createElement(Dn,{title:i.display,subtitle:\"/ \".concat(i.organisation),layout:\"horizontal\",size:\"sm\"})),function(){var e=Nn(s.matchAll(/@\\[[^\\]]*\\]\\{[0-9]+\\}/gi)),t=s.split(/@\\[[^\\]]*\\]\\{[0-9]+\\}/gi);return a.a.createElement(\"p\",{className:\"lh--md\"},t.map((function(t,r){var o;return r in e&&(o=n.find((function(t){return e[r][0].includes(t.display)}))),a.a.createElement(a.a.Fragment,{key:r},a.a.createElement(\"span\",{className:\"comment__content\"},\"\".concat(t,\" \")),\" \",o&&a.a.createElement(a.a.Fragment,null,a.a.createElement(\"span\",{className:\"comment__mention mentions__mention px-1\",style:{\"--theme\":o.userColor}},a.a.createElement(\"span\",null,\"@\",o.display)),\" \"))})))}(),a.a.createElement(\"div\",{className:\"d-flex align-items-center mt-1\"},a.a.createElement(\"p\",{className:\"comment__created text-muted--60 mb-0 hr-2\"},l),a.a.createElement(\"p\",{className:\"comment__agree text-muted--60 mb-0 hr-2 font-weight-normal\"},\"7 agree\"),a.a.createElement(\"button\",{className:\"comment__reply-toggle btn btn-link text-muted--60 mb-0 hr-2 font-weight-normal\",onClick:function(){return r(i)}},a.a.createElement(\"span\",{className:\"btn-text text-white\"},\"Reply\")))),null==u?void 0:u.map((function(e){return a.a.createElement(Sn,{key:e.id,comment:e,globalUsers:n,setReplyToUser:r,renderAuthor:!0})})))}var Pn=n(\"qzzo\"),In=n.n(Pn),kn=n(\"qSnX\"),Cn=n.n(kn);function An(){return(An=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Rn(e){var t=e.user,n=e.project,r=e.variant,o=void 0===r?\"default\":r,c=e.size,l=void 0===c?\"md\":c,s=Object(i.b)(),u=null!=n?n:{},m=u.id,d=u.author,p=null!=t?t:{},v=p.id,g=p.email===d,b=Object(le.a)(rt,{onSuccess:function(){return s.invalidateQueries([ut,m])}});return a.a.createElement(\"div\",{className:\"user user--\".concat(l,\" user--\").concat(o,\" \").concat(g&&\"user--author\")},a.a.createElement(\"div\",{className:\"d-flex align-items-center\"},a.a.createElement(Ln,An({isLoading:b.isLoading},t),\"interactive\"===o&&!g&&a.a.createElement(\"button\",{className:\"user__action btn btn-link p-0\",type:\"button\",onClick:function(){return b.mutate({projectId:m,userId:v})}},a.a.createElement(f.a,{wrapper:\"svg\",className:\"user__action-icon icon icon--14\",src:Cn.a})))),g&&a.a.createElement(\"div\",{className:\"user__status user__status--leader\"},a.a.createElement(f.a,{wrapper:\"svg\",className:\"user__status-icon icon text-tertiary mt-0\",src:In.a})))}var Ln=function(e){var t=e.display,n=e.userColor,r=e.isLoading,o=e.children,c=t.split(\" \").map((function(e){return e[0].toUpperCase()}));return a.a.createElement(\"div\",{className:\"user__avatar\",style:{\"--theme\":n}},a.a.createElement(Lt,{loading:r,loaderSize:16},a.a.createElement(\"span\",{className:\"user__initials\"},c),o))},Dn=function(e){var t=e.title,n=e.subtitle,r=e.layout,o=void 0===r?\"vertical\":r,c=e.size,i=void 0===c?\"lg\":c;return a.a.createElement(\"div\",{className:\"user__info user__info--\".concat(o,\" user__info--\").concat(i,\" ml-2\")},a.a.createElement(\"p\",{className:\"user__info-title mb-0\"},t),n&&a.a.createElement(\"p\",{className:\"user__info-subtitle mb-0\"},n))},Un=a.a.createContext(),Mn=n(\"MqZ5\");function Tn(e,t){var n=document.querySelectorAll(\".mentions .mentions__mention\")||[];if(n.length>0)for(var r=function(r){var a=n[r],o=a.innerHTML.replace(\"@\",\"\").trim(),c=e.find((function(e){return e.display===o}));a.style.setProperty(\"--theme\",c.userColor),t&&setTimeout((function(){t.focus(),t.setSelectionRange(200,-1)}),1)},a=0;a<n.length;a++)r(a)}function Fn(e){return function(e){if(Array.isArray(e))return zn(e)}(e)||function(e){if(\"undefined\"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e[\"@@iterator\"])return Array.from(e)}(e)||function(e,t){if(!e)return;if(\"string\"==typeof e)return zn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===n&&e.constructor&&(n=e.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(e);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zn(e,t)}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function zn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qn(e){var t=e.comment,n=e.setComment,o=e.mentions,c=e.setMentions,i=e.autoFocus,l=void 0!==i&&i,s=Object(u.a)(dt,tt).data,m=void 0===s?[]:s,d=Object(r.useRef)();return Object(r.useEffect)((function(){o.length>0&&null!=d&&d.current&&Tn(m,d.current)}),[o,null==d?void 0:d.current]),a.a.createElement(a.a.Fragment,null,a.a.createElement(Mn.b,{value:t,className:\"mentions\",id:\"comment\",name:\"comment\",placeholder:\"Say something nice...\",onChange:function(e){return n(e.target.value)},onClick:function(){return Tn(m)},inputRef:d,autoFocus:l},a.a.createElement(Mn.a,{trigger:\"@\",data:m,renderSuggestion:Bn,allowSpaceInQuery:!0,appendSpaceOnAdd:!0,className:\"mentions__mention\",displayTransform:function(e,t){return\" @\".concat(t,\" \")},markup:\"@[__display__]{__id__}\",onAdd:function(e){return c((function(t){return[].concat(Fn(t),[e])}))}})))}var Bn=function(e,t,n,r,o){return a.a.createElement(\"div\",{className:\"mention__suggestion vr-3\"},a.a.createElement(\"button\",{className:\"user user--select user--xl \".concat(o&&\"is-focused\"),type:\"button\"},a.a.createElement(\"div\",{className:\"d-flex align-items-center\"},a.a.createElement(Ln,e),a.a.createElement(Dn,{title:e.display,subtitle:e.organisation?e.organisation:\"No organisation\"}),a.a.createElement(\"div\",{className:\"user__add text-secondary rounded-circle ml-auto\"},a.a.createElement(f.a,{wrapper:\"svg\",className:\"user__add-icon icon icon--12 text-secondary\",src:qt.a})))))};function Qn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&(\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"]);if(null==n)return;var r,a,o=[],c=!0,i=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);c=!0);}catch(e){i=!0,a=e}finally{try{c||null==n.return||n.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if(\"string\"==typeof e)return $n(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===n&&e.constructor&&(n=e.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(e);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $n(e,t)}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function $n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wn(e){var t=e.replyTo,n=e.commentId,o=e.setReplyToUser,c=Qn(Object(r.useState)(),2),l=c[0],s=c[1],u=Qn(Object(r.useState)([]),2),m=u[0],d=u[1];Object(r.useEffect)((function(){s(\"@[\".concat(t.display,\"]{\").concat(t.id,\"} \")),d([t.id])}),[t]);var p=Object(r.useContext)(O).currentUser,f=Object(i.b)(),v=Object(r.useContext)(Un).projectImageId,g=Object(le.a)(it,{onSuccess:function(){f.invalidateQueries([mt,parseInt(v)]),o(null)}});return a.a.createElement(\"form\",{className:\"reply\",onSubmit:function(e){e.preventDefault(),g.mutate({commentId:n,reply:l,mentioned:m})}},a.a.createElement(\"div\",{className:\"d-flex align-items-center\"},a.a.createElement(Rn,{user:p}),a.a.createElement(Dn,{title:p.display,subtitle:\"/ \".concat(p.organisation),layout:\"horizontal\",size:\"sm\"})),a.a.createElement(\"div\",{className:\"position-relative\"},a.a.createElement(qn,{comment:l,setComment:s,mentions:m,setMentions:d}),a.a.createElement(ae,{extensionClasses:\"form-control-btn\",type:\"submit\",contentType:\"icon\",theme:\"default\",isLoading:g.isLoading})))}function Hn(e,t){var n,r=t.reviewPos,a=Number(t.xPercent),o=Number(t.yPercent),c=(null==e||null===(n=e.current)||void 0===n?void 0:n.getBoundingClientRect())||{},i=c.width,l=void 0===i?400:i,s=c.height,u=void 0===s?228:s,m=30,d=30;return a+l/window.innerWidth*100>100&&(m=-l-10),o+u/(window.innerHeight-r.top)*100>100&&(d=-u-10),{left:\"\".concat(m,\"px\"),top:\"\".concat(d,\"px\")}}function Yn(){return(Yn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Xn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xn(Object(n),!0).forEach((function(t){Vn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&(\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"]);if(null==n)return;var r,a,o=[],c=!0,i=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);c=!0);}catch(e){i=!0,a=e}finally{try{c||null==n.return||n.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if(\"string\"==typeof e)return Gn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===n&&e.constructor&&(n=e.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(e);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gn(e,t)}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Gn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zn(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function er(e){var t=e.comment,n=e.commentIndex,o=e.toggleCommentAddOpen,c=Zn(e,[\"comment\",\"commentIndex\",\"toggleCommentAddOpen\"]),i=t.position,l=t.author,s=t.id,u=i.xPercent,m=i.yPercent,p=Jn(Object(r.useState)(!1),2),f=p[0],v=p[1],g=function(){f||o(),v(!f)};return Z(f,v),a.a.createElement(xn,{xPercent:u,yPercent:m,author:l,commentIndex:n+1,commentOpen:f,toggleComment:g},a.a.createElement(d.a,null,f&&a.a.createElement(tr,Yn({key:s},Kn({comment:t,toggleComment:g},c)))))}var tr=function(e){var t=e.comment,n=e.toggleComment,o=e.reviewRef,c=Zn(e,[\"comment\",\"toggleComment\",\"reviewRef\"]),i=t.position,l=t.author,s=Jn(Object(r.useState)(i),2),u=s[0],m=s[1],d=Jn(Object(r.useState)(),2),v=d[0],g=d[1],y=Object(r.useRef)();return Object(r.useEffect)((function(){i&&m((function(){return i.reviewPos=o.current.getBoundingClientRect(),Hn(y,i)}))}),[i]),a.a.createElement(p.a.div,{className:\"review__custom-modal custom-modal\",style:{\"--left\":u.left,\"--top\":u.top}},a.a.createElement(p.a.div,Yn({key:\"custom-modal-content\",className:\"custom-modal__content border p-5\"},b(50)),a.a.createElement(\"div\",{className:\"custom-modal__header d-flex align-items-start\"},a.a.createElement(\"div\",{className:\"d-flex align-items-center w-100\"},a.a.createElement(Rn,{user:l,size:\"xl\"}),a.a.createElement(\"div\",{className:\"d-flex flex-column w-100 ml-3\"},a.a.createElement(\"div\",{className:\"d-flex align-items-center\"},a.a.createElement(\"p\",{className:\"text--lg mb-0 lh--md\"},l.display),a.a.createElement(\"button\",{type:\"button\",className:\"custom-modal__close btn btn-link ml-auto\",onClick:n},a.a.createElement(f.a,{wrapper:\"svg\",className:\"icon icon--12\",src:j.a}))),a.a.createElement(\"p\",{className:\"text-muted--60 mb-0 text--sm lh--xs\"},l.organisation)))),a.a.createElement(\"div\",{className:\"custom-modal__body d-flex mt-4\"},a.a.createElement(\"div\",{className:\"d-flex flex-column w-100\"},a.a.createElement(Sn,Kn({comment:t,setReplyToUser:g},c)),v&&a.a.createElement(Wn,{replyTo:v,commentId:t.id,setReplyToUser:g})))))};function nr(){return(nr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function rr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&(\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"]);if(null==n)return;var r,a,o=[],c=!0,i=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);c=!0);}catch(e){i=!0,a=e}finally{try{c||null==n.return||n.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if(\"string\"==typeof e)return ar(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===n&&e.constructor&&(n=e.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(e);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ar(e,t)}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function ar(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function or(e){var t=e.markerPos,n=e.phaseId,o=e.toggleCommentAddOpen,c=Object(r.useRef)(),l=Object(r.useRef)(),s=Hn(l,t),u=s.left,m=void 0===u?\"30px\":u,d=s.top,v=void 0===d?\"30px\":d,g=rr(Object(r.useState)(\"\"),2),y=g[0],h=g[1],E=rr(Object(r.useState)([]),2),w=E[0],x=E[1];Z(t,o);var N=Object(r.useContext)(O).currentUser,_=Object(i.b)(),S=Object(r.useContext)(Un).projectImageId,P=Object(le.a)(ct,{onSuccess:function(){_.invalidateQueries([mt,parseInt(S)]),o()}});return a.a.createElement(p.a.div,{layout:!0,transition:{duration:.1},ref:l,className:\"review__custom-modal custom-modal\",style:{\"--left\":m,\"--top\":v}},a.a.createElement(p.a.div,nr({key:\"custom-modal-content\",className:\"custom-modal__content border p-5\"},b(50)),a.a.createElement(\"div\",{className:\"custom-modal__header d-flex align-items-start\"},a.a.createElement(\"div\",{className:\"d-flex align-items-center w-100\"},a.a.createElement(Rn,{user:N,size:\"xl\"}),a.a.createElement(\"div\",{className:\"d-flex flex-column w-100 ml-3\"},a.a.createElement(\"div\",{className:\"d-flex align-items-center\"},a.a.createElement(\"p\",{className:\"text--lg mb-0 lh--md\"},\"Add a comment\"),a.a.createElement(\"button\",{type:\"button\",className:\"custom-modal__close btn btn-link ml-auto\",onClick:o},a.a.createElement(f.a,{wrapper:\"svg\",className:\"icon icon--12\",src:j.a}))),a.a.createElement(\"p\",{className:\"text-muted--60 mb-0 text--md lh--xs\"},\"Comment or \",a.a.createElement(\"span\",{className:\"text-secondary\"},\" @mention \"),\" someone\")))),a.a.createElement(\"div\",{className:\"custom-modal__body d-flex mt-4\"},a.a.createElement(\"form\",{ref:c,className:\"d-flex flex-column align-items-center flex-grow-1\",onSubmit:function(e){e.preventDefault(),y.length>0&&P.mutate({userId:N.id,phaseId:n,comment:y.trim(),mentioned:w,position:t})}},a.a.createElement(\"label\",{className:\"sr-only\",htmlFor:\"comment\"},\"Add a comment\"),a.a.createElement(\"div\",{className:\"position-relative w-100\"},a.a.createElement(qn,{comment:y,setComment:h,mentions:w,setMentions:x,autoFocus:!0}),a.a.createElement(ae,{extensionClasses:\"form-control-btn\",type:\"submit\",contentType:\"icon\",theme:\"default\",isLoading:P.isLoading}))))))}var cr=n(\"ukBR\"),ir=n.n(cr),lr=n(\"eesx\"),sr=n.n(lr);function ur(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&(\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"]);if(null==n)return;var r,a,o=[],c=!0,i=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);c=!0);}catch(e){i=!0,a=e}finally{try{c||null==n.return||n.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if(\"string\"==typeof e)return mr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===n&&e.constructor&&(n=e.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(e);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mr(e,t)}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function mr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dr(e){var t=e.title,n=e.phase,o=ur(Object(r.useState)(!1),2),c=o[0],i=o[1],l=Object(r.useContext)(O),s=l.currentUser,u=l.userRole,m=function(){return i(!c)};return a.a.createElement(\"div\",{className:\"bar bar--review\"},a.a.createElement(\"div\",{className:\"container-fluid\"},a.a.createElement(\"div\",{className:\"row gutters-0 justify-content-between align-items-center\"},a.a.createElement(\"div\",{className:\"col-4 d-flex flex-column\"},a.a.createElement(\"div\",{className:\"d-flex align-items-center\"},a.a.createElement(\"p\",{className:\"text--sm mb-0\"},\"Project\"),a.a.createElement(f.a,{wrapper:\"svg\",className:\"icon icon--8 text-white text-muted--50 mx-1\",src:ir.a}),a.a.createElement(\"p\",{className:\"text--sm mb-0 text-truncate\",style:{maxWidth:120}},t)),a.a.createElement(\"div\",{className:\"d-flex align-items-center\"},a.a.createElement(\"p\",{className:\"text--xs text-muted--70 mb-0\"},\"1 of 2\"),a.a.createElement(\"span\",{className:\"mx-1 text-muted--20\"},\"/\"),a.a.createElement(\"p\",{className:\"text--xs text-muted--70 mb-0\"},\"Phase \",n))),a.a.createElement(\"div\",{className:\"col-auto\"},a.a.createElement(\"p\",{className:\"text-muted--70\"},a.a.createElement(\"button\",{className:\"bar__action-btn btn btn-link text-rest hr-2\",onClick:m},a.a.createElement(f.a,{wrapper:\"svg\",className:\"icon icon--16 text-white text-muted--60\",src:Nt.a}),a.a.createElement(te,{title:\"Editing image\",subtitle:\"Save when ready\",modalOpen:c,toggleModal:m},a.a.createElement(\"p\",null,\"pietje\"))),a.a.createElement(\"button\",{className:\"bar__action-btn btn btn-link text-rest hr-2\"},a.a.createElement(f.a,{wrapper:\"svg\",className:\"icon icon--16 text-white text-muted--60\",src:sr.a})))),a.a.createElement(\"div\",{className:\"col-4 d-flex justify-content-end\"},a.a.createElement(Rn,{user:s,size:\"lg\"}),\"admin\"===u&&a.a.createElement(ae,{title:\"Next phase\",type:\"button\",extensionClasses:\"ml-2 px-4\"})))))}function pr(e){var t=e.allImages;G(\"keyup\",(function(e){\"ArrowLeft\"===e.key&&i&&u(\"prev\");\"ArrowRight\"===e.key&&l&&u(\"next\")}));var n=Object(s.g)(),o=Object(r.useContext)(Un).projectImageId,c=t.indexOf(Number(o)),i=t[0===c?t.length-1:c-1],l=t[c===t.length-1?0:c+1];var u=function(e){\"prev\"===e&&n.push(i.toString()),\"next\"===e&&n.push(l.toString())};return a.a.createElement(\"div\",{className:\"pagination\"},a.a.createElement(\"button\",{className:\"pagination__btn pagination__btn--prev btn btn-link text-reset\",type:\"button\",onClick:function(){return u(\"prev\")}},a.a.createElement(f.a,{wrapper:\"svg\",className:\"pagination__icon icon icon--12\",src:ir.a})),a.a.createElement(\"button\",{className:\"pagination__btn pagination__btn--next btn btn-link text-reset\",type:\"button\",onClick:function(){return u(\"next\")}},a.a.createElement(f.a,{wrapper:\"svg\",className:\"pagination__icon icon icon--12\",src:ir.a})))}function fr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fr(Object(n),!0).forEach((function(t){gr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function br(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&(\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"]);if(null==n)return;var r,a,o=[],c=!0,i=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);c=!0);}catch(e){i=!0,a=e}finally{try{c||null==n.return||n.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if(\"string\"==typeof e)return yr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===n&&e.constructor&&(n=e.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(e);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yr(e,t)}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function yr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hr(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Er(e){var t=e.title,n=e.phases,o=void 0===n?[]:n,c=hr(e,[\"title\",\"phases\"]),i=Object(u.a)(dt,tt).data,l=void 0===i?[]:i,s=o[o.length-1]||{},m=s.image,p=s.id,f=s.comments,v=s.phase,g=Object(r.useContext)(O).currentUser,b=Object(r.useRef)(),y=br(Object(r.useState)(),2),h=y[0],E=y[1],w=br(Object(r.useState)(!1),2),j=w[0],x=w[1],N=function(){return E(null)};return a.a.createElement(\"div\",{ref:b,className:\"review position-relative mx-n12 mb-3 mt-n10\"},a.a.createElement(\"img\",{className:\"review__image img-fluid w-100\",src:m.original,srcSet:\"\".concat(m.original,\" 2x\"),alt:t,onClick:function(e){var t=e.clientX,n=e.clientY;if(g.authenticated){var r=null==b?void 0:b.current.getBoundingClientRect();E((function(){return{xPercent:(t-10)/r.width*100,yPercent:(n-r.top-10)/r.height*100,reviewPos:r}}))}else x(!0)}}),null==f?void 0:f.map((function(e,t){return a.a.createElement(er,{key:e.id,comment:e,commentIndex:t,reviewRef:b,globalUsers:l,toggleCommentAddOpen:N})})),a.a.createElement(d.a,null,h&&a.a.createElement(xn,vr({},h),a.a.createElement(or,{markerPos:h,phaseId:p,toggleCommentAddOpen:N}))),a.a.createElement(Lr,{securityModalOpen:j,setSecurityModalOpen:x}),a.a.createElement(dr,vr(vr({},c),{},{title:t,phase:v})),a.a.createElement(pr,c))}var wr={login:\"/\",signup:\"/signup\",projects:\"/projects\"},jr=[{name:\"login\",path:\"/\",component:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(xr,null),a.a.createElement(\"main\",{className:\"main-content\"},a.a.createElement(z,null),a.a.createElement(\"div\",{className:\"pane\"},a.a.createElement(\"div\",{className:\"pane__panel panel panel--login\"},a.a.createElement(\"div\",{className:\"panel__body\"},a.a.createElement(\"h1\",{className:\"text-uppercase text-white mb-0\"},\"Login\"),a.a.createElement(\"p\",{className:\"text-muted--70 text-white mb-6\"},\"Login with your e-mail and password\"),a.a.createElement(Mr,null))))))}},{name:\"signup\",path:\"/signup\",component:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(xr,null),a.a.createElement(\"main\",{className:\"main-content\"},a.a.createElement(z,null),a.a.createElement(\"div\",{className:\"pane\"},a.a.createElement(\"div\",{className:\"pane__panel panel panel--login\"},a.a.createElement(\"div\",{className:\"panel__body\"},a.a.createElement(\"h1\",{className:\"text-uppercase text-white mb-0\"},\"Sign up\"),a.a.createElement(\"p\",{className:\"text-muted--70 text-white mb-6\"},\"Sign up with your e-mail and password\"),a.a.createElement(Fr,null))))))}},{name:\"project-overview\",path:\"/projects\",component:function(){var e=fn(Object(r.useState)(),2),t=e[0],n=e[1];K(\"Projects\");var o=Object(r.useContext)(O),c=o.currentUser,i=o.userRole,l=Object(u.a)(st,(function(){return ze({userId:null==c?void 0:c.id})}),{enabled:!(null==c||!c.id)}),s=l.isLoading,m=l.data,d=void 0===m?[]:m;return a.a.createElement(Ft,null,a.a.createElement(Tt,{isLoading:s},\"admin\"===i&&a.a.createElement(nn,{setNewProjectId:n}),a.a.createElement(pn,{projects:d,newProjectId:t})))}},{name:\"project-detail\",path:\"/projects/:id\",component:function(){var e=Object(s.i)().id,t=Object(u.a)([ut,parseInt(e)],(function(){return qe({projectId:e})})),n=t.isLoading,r=t.data,o=void 0===r?{}:r;K(null==o?void 0:o.title,[o]);var c=o.title,i=o.description,l=o.users,m=o.id,d=o.author,p=o.email,f=o.projectImages;return a.a.createElement(Ft,null,a.a.createElement(Tt,{isLoading:n},a.a.createElement(gn,{title:c,description:i,users:l,id:m,author:d,email:p}),a.a.createElement(En,{projectImages:f,projectId:m})))}},{name:\"project-review\",path:\"/projects/:id/review/:id\",component:function(){var e=Object(s.i)().id,t=Object(u.a)([mt,parseInt(e)],(function(){return Xe({projectImageId:e})})),n=t.isLoading,r=t.data,o=void 0===r?{}:r;return K(null==o?void 0:o.title,[o]),a.a.createElement(Un.Provider,{value:{projectImageId:e}},a.a.createElement(Ft,null,a.a.createElement(Tt,{isLoading:n},a.a.createElement(Er,o))))}}];function Or(){return(Or=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function xr(){return a.a.createElement(p.a.header,Or({className:\"main-header\"},g),a.a.createElement(\"div\",{className:\"container-fluid px-5 pt-5 px-lg-6 pt-lg-6 px-xl-12 pt-xl-12\"},a.a.createElement(\"div\",{className:\"main-header__logo logo\"},a.a.createElement(l.b,{className:\"logo__link text-reset\",to:wr.login,title:\"Parallel Dashboard\"},a.a.createElement(\"h2\",{className:\"logo__title text-uppercase mb-0\"},\"Parallel\"),a.a.createElement(\"p\",{className:\"logo__subtitle text-uppercase font-weight-light mt-n1\"},\"Dashboard\")))))}function Nr(){return(Nr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _r(){var e=Object(s.g)(),t=Object(r.useContext)(O).setCurrentUser,n=Object(le.a)(Me,{onSuccess:function(){e.push(wr.login),t(null),sessionStorage.removeItem(\"userId\"),Object(m.b)(a.a.createElement(D,{message:\"Successfully logged out!\",appearance:\"success\"}))},onError:function(){return Object(m.b)(a.a.createElement(D,{message:\"Something went wrong!\",appearance:\"danger\"}))}});return a.a.createElement(p.a.header,Nr({className:\"main-header main-header--projects\"},g),a.a.createElement(\"div\",{className:\"container-fluid\"},a.a.createElement(\"div\",{className:\"main-header__wrapper d-flex align-items-end\"},a.a.createElement(\"div\",{className:\"main-header__logo logo\"},a.a.createElement(l.b,{className:\"logo__link text-reset\",to:wr.projects,title:\"Parallel Dashboard\"},a.a.createElement(\"h2\",{className:\"logo__title text-uppercase text-white mb-0\"},\"Parallel\"),a.a.createElement(\"p\",{className:\"logo__subtitle text-uppercase text-white font-weight-light mt-n1\"},\"Dashboard\"))),a.a.createElement(\"div\",{className:\"main-header__nav ml-auto\"},a.a.createElement(\"ul\",{className:\"nav nav--primary\"},a.a.createElement(\"li\",{className:\"nav-item\"},a.a.createElement(\"button\",{href:\"{{ path('app_logout') }}\",title:\"Logout\",className:\"nav-link btn btn-link text-reset\",onClick:function(){return n.mutate()}},a.a.createElement(\"span\",{className:\"nav-text\"},\"Logout\"))))))))}function Sr(){return(Sr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Pr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ir(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kr(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Cr(e){var t=e.users,n=e.layout,r=void 0===n?\"full\":n,o=kr(e,[\"users\",\"layout\"]),c=\"minimal\"===r?7:1/0;return a.a.createElement(\"div\",{className:\"row align-items-center gutters-1\"},a.a.createElement(d.a,null,t.slice(0,c).map((function(e){return a.a.createElement(p.a.div,Sr({layout:!0},h,{className:\"col-auto\",key:e.id}),a.a.createElement(Rn,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pr(Object(n),!0).forEach((function(t){Ir(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({user:e},o)))})),\"minimal\"===r&&t.length>7&&a.a.createElement(p.a.div,Sr({layout:!0},h,{className:\"col-auto\",key:\"more\"}),a.a.createElement(\"p\",{className:\"text--sm text-muted--70 ml-1\"},\"+ \",t.length-c))))}function Ar(){return(Ar=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Rr(e){var t=e.user,n=e.userIndex,o=e.handleClick,c=e.isFocused,i=e.setFocusedUser,l=e.isLoading;Object(r.useEffect)((function(){c&&i(n)}),[c]),Object(r.useEffect)((function(){return function(){return i(0)}}),[]);var s=function(e){i(\"enter\"===e?n:0)};return a.a.createElement(\"button\",{className:\"user user--select \".concat(c&&\"is-focused\",\" user--xl\"),onClick:function(){return o(t)},onMouseEnter:function(){return s(\"enter\")},onMouseLeave:function(){return s(\"leave\")},type:\"button\"},a.a.createElement(\"div\",{className:\"d-flex align-items-center\"},a.a.createElement(Ln,Ar({isLoading:l&&c},t)),a.a.createElement(Dn,{title:t.display,subtitle:t.organisation?t.organisation:\"No organisation\"}),a.a.createElement(\"div\",{className:\"user__add text-secondary rounded-circle ml-auto\"},a.a.createElement(f.a,{wrapper:\"svg\",className:\"user__add-icon icon icon--12 text-secondary\",src:qt.a}))))}function Lr(e){var t=e.securityModalOpen,n=e.setSecurityModalOpen,o=Object(r.useContext)(O),c=o.currentUser,i=o.userRole,l=\"basic\"===i?\"Signup\":\"Login\",s=\"\".concat(l,\" if you want to comment\"),u=function(){return n(!t)};return a.a.createElement(te,{title:l,subtitle:s,modalOpen:t,toggleModal:u},\"basic\"===i?a.a.createElement(Fr,{currentUser:c,toggleModal:u,showLogin:!1}):a.a.createElement(Mr,{currentUser:c,toggleModal:u,showSignup:!1}))}var Dr=n(\"NKCw\");function Ur(){return(Ur=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Mr(e){var t,n,o=e.currentUser,c=e.toggleModal,s=e.showSignup,u=void 0===s||s,d=Object(r.useRef)();K(\"Login\");var p=Object(i.b)(),f=Object(Dr.a)({reValidateMode:\"onChange\",mode:\"onBlur\"}),v=f.register,g=f.handleSubmit,b=f.formState.errors,y=Object(le.a)(Ue,{onSuccess:function(e){p.invalidateQueries(lt),o&&c(),Object(m.b)(a.a.createElement(D,{message:\"Successfully logged in!\",appearance:\"success\"}))},onError:function(e){var t,n;Object(m.b)(a.a.createElement(D,{message:null!=e&&null!==(t=e.response)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.error?\"Email/password combination not found!\":\"Something went wrong!\",appearance:\"danger\"})),b.email={message:\"Email/password combination not found\"},b.password={message:\"Email/password combination not found\"}}});return a.a.createElement(\"form\",{ref:d,className:\"panel__form form\",onSubmit:g((function(){return y.mutate({formRef:d})})),noValidate:!0},a.a.createElement(\"div\",{className:\"row gutters-2\"},a.a.createElement(\"div\",{className:\"col-12\"},a.a.createElement(\"label\",{className:\"sr-only\",htmlFor:\"inputEmail\"},\"Email\"),a.a.createElement(\"input\",Ur({type:\"email\",className:\"form-control \".concat(b.email&&\"is-invalid\"),id:\"inputEmail\",name:\"email\",placeholder:\"Email\",autoFocus:!0},v(\"email\",{required:!0}))),b.email&&a.a.createElement(\"div\",{className:\"invalid-feedback\"},null!==(t=b.email)&&void 0!==t&&t.message?b.email.message:\"Please enter a valid email\")),a.a.createElement(\"div\",{className:\"col-12\"},a.a.createElement(\"label\",{className:\"sr-only\",htmlFor:\"inputPassword\"},\"Password\"),a.a.createElement(\"input\",Ur({type:\"password\",className:\"form-control \".concat(b.password&&\"is-invalid\"),id:\"inputPassword\",name:\"password\",placeholder:\"Password\"},v(\"password\",{required:!0}))),b.password&&a.a.createElement(\"div\",{className:\"invalid-feedback\"},null!==(n=b.password)&&void 0!==n&&n.message?b.password.message:\"Please enter a password\"))),a.a.createElement(\"div\",{className:\"row gutters-2\"},a.a.createElement(\"div\",{className:\"col-12 col-md\"},a.a.createElement(ae,{title:\"Log in\",theme:\"secondary\",size:\"md\",extensionClasses:\"btn-block justify-content-center\",type:\"submit\",isLoading:y.isLoading})),u&&a.a.createElement(\"div\",{className:\"col-12 col-md\"},a.a.createElement(l.b,{className:\"btn btn-outline-white btn-block\",to:wr.signup,title:\"sign up\"},a.a.createElement(\"span\",{className:\"btn__text\"},\"Sign up\")))))}function Tr(){return(Tr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Fr(e){var t=e.currentUser,n=e.toggleModal,o=e.showLogin,c=void 0===o||o,s=Object(r.useRef)();K(\"Signup\");var u=Object(i.b)(),d=Object(Dr.a)({reValidateMode:\"onChange\",mode:\"onBlur\"}),p=d.register,f=d.handleSubmit,v=d.formState.errors,g=d.control,b=Object(Dr.b)({control:g,name:\"plainPassword\",defaultValue:\"\"}),y=Object(le.a)(De,{onSuccess:function(){u.invalidateQueries(lt),Object(m.b)(a.a.createElement(D,{message:\"Successfully logged in!\",appearance:\"success\"})),t&&n()},onError:function(e){500===e.response.status&&(Object(m.b)(a.a.createElement(D,{message:\"This email is already in use!\",appearance:\"danger\"})),s.current.reset())}});return a.a.createElement(\"form\",{ref:s,className:\"panel__form form\",onSubmit:f((function(){return y.mutate({formRef:s,userId:null==t?void 0:t.id})})),noValidate:!0},a.a.createElement(\"div\",{className:\"row gutters-2\"},a.a.createElement(\"div\",{className:\"col-md-6\"},a.a.createElement(\"label\",{className:\"sr-only\",htmlFor:\"registration_form_username\"},\"Your name\"),a.a.createElement(\"input\",Tr({type:\"text\",id:\"registration_form_username\",name:\"username\",className:\"form-control \".concat(v.username&&\"is-invalid\"),placeholder:\"Full name\"},p(\"username\",{required:{value:!0,message:\"Please enter a name\"}}))),v.username&&a.a.createElement(\"div\",{className:\"invalid-feedback\"},v.username.message)),a.a.createElement(\"div\",{className:\"col-md-6\"},a.a.createElement(\"label\",{className:\"sr-only\",htmlFor:\"registration_form_organisation\"},\"Organisation\"),a.a.createElement(\"input\",Tr({type:\"text\",id:\"registration_form_organisation\",name:\"organisation\",className:\"form-control \".concat(v.organisation&&\"is-invalid\"),placeholder:\"Organisation\"},p(\"organisation\",{required:{value:!0,message:\"Please enter an organisation\"}}))),v.organisation&&a.a.createElement(\"div\",{className:\"invalid-feedback\"},v.organisation.message)),a.a.createElement(\"div\",{className:\"col-12\"},a.a.createElement(\"label\",{className:\"sr-only\",htmlFor:\"registration_form_email\"},\"Email\"),a.a.createElement(\"input\",Tr({type:\"text\",id:\"registration_form_email\",name:\"email\",className:\"form-control \".concat(v.email&&\"is-invalid\"),placeholder:\"Email\",value:null==t?void 0:t.email,onChange:function(){}},p(\"email\",{required:{value:!0,message:\"Please enter an email\"}}))),v.email&&a.a.createElement(\"div\",{className:\"invalid-feedback\"},v.email.message)),a.a.createElement(\"div\",{className:\"col-md-6\"},a.a.createElement(\"label\",{className:\"sr-only\",htmlFor:\"registration_form_plainPassword\"},\"Password\"),a.a.createElement(\"input\",Tr({type:\"password\",id:\"registration_form_plainPassword\",name:\"plainPassword\",className:\"form-control \".concat(v.password&&\"is-invalid\"),placeholder:\"Password\"},p(\"plainPassword\",{required:{value:!0,message:\"Please enter a password\"},minLength:{value:6,message:\"Please enter a password of atleast 6 characters\"}}))),v.plainPassword&&a.a.createElement(\"div\",{className:\"invalid-feedback\"},v.plainPassword.message)),a.a.createElement(\"div\",{className:\"col-md-6\"},a.a.createElement(\"label\",{className:\"sr-only\",htmlFor:\"login-confirm-password\"},\"Confirm password\"),a.a.createElement(\"input\",Tr({type:\"password\",className:\"form-control \".concat(v.passwordConfirm&&\"is-invalid\"),id:\"login-confirm-password\",placeholder:\"Confirm password\",name:\"passwordConfirm\"},p(\"passwordConfirm\",{required:{value:!0,message:\"Please confirm your password\"},validate:function(e){return e===b||\"The passwords do not match\"}}))),v.passwordConfirm&&a.a.createElement(\"div\",{className:\"invalid-feedback\"},v.passwordConfirm.message))),a.a.createElement(\"div\",{className:\"row gutters-2\"},a.a.createElement(\"div\",{className:\"col-12 col-md\"},a.a.createElement(ae,{title:\"Sign up\",theme:\"secondary\",size:\"md\",extensionClasses:\"btn-block justify-content-center\",type:\"submit\",isLoading:y.isLoading})),c&&a.a.createElement(\"div\",{className:\"col-12 col-md\"},a.a.createElement(l.b,{className:\"btn btn-outline-white btn-block\",to:wr.login,title:\"sign up\"},a.a.createElement(\"span\",{className:\"btn__text\"},\"Login\")))))}function zr(){return(zr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function qr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Br(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qr(Object(n),!0).forEach((function(t){Qr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&(\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"]);if(null==n)return;var r,a,o=[],c=!0,i=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);c=!0);}catch(e){i=!0,a=e}finally{try{c||null==n.return||n.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if(\"string\"==typeof e)return Wr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===n&&e.constructor&&(n=e.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(e);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wr(e,t)}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Wr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Hr(){return a.a.createElement(l.a,null,a.a.createElement(Yr,null))}var Yr=function(){var e=$r(Object(r.useState)(),2),t=e[0],n=e[1],o=$r(Object(r.useState)([]),2),c=o[0],i=o[1],l=$r(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"sessionStorage\",a=Object(r.useState)((function(){try{var r=window[n].getItem(e);return t&&!r&&window[n].setItem(e,t),r?JSON.parse(r):t}catch(e){return t}})),o=V(a,2),c=o[0],i=o[1],l=function(t){try{var r=t instanceof Function?t(c):t;i(r),window[n].setItem(e,JSON.stringify(r))}catch(e){throw new Error(e)}};return[c,l]}(\"userId\",atob(window.location.search.replace(\"?\",\"\"))),1)[0],f=Object(s.h)(),v=Object(u.a)(lt,(function(){return et({userId:l})}),{retry:!1,onSuccess:function(e){var t;n(e),i((t=e.roles).includes(ue)?\"admin\":t.includes(de)?\"basic\":t.includes(me)?\"user\":void 0)}}).isLoading;return a.a.createElement(O.Provider,{value:{currentUser:t,setCurrentUser:n,userRole:c}},a.a.createElement(d.a,null,![wr.login,wr.signup].includes(f.pathname)&&!f.pathname.includes(\"review\")&&a.a.createElement(_r,null)),a.a.createElement(Tt,{isLoading:v},a.a.createElement(d.a,{exitBeforeEnter:!0},a.a.createElement(s.d,{location:f,key:f.pathname},t&&[wr.login,wr.signup].includes(f.pathname)&&a.a.createElement(s.a,{to:wr.projects}),!t&&f.pathname.includes(wr.projects)&&a.a.createElement(s.a,{to:wr.login}),jr.map((function(e){var n=e.path,r=e.component,o=e.props;return a.a.createElement(s.b,{key:n,path:n,exact:!0},a.a.createElement(p.a.div,zr({key:n},g),a.a.createElement(r,Br(Br({},o),{},{currentUser:t,userRole:c}))))}))))),a.a.createElement(m.a,{hideProgressBar:!0,newestOnTop:!0,position:\"bottom-left\",closeButton:!1}))},Xr=new c.a({defaultOptions:{queries:{refetchOnWindowFocus:!1}}}),Kr=document.getElementById(\"app\");null!==Kr&&Object(o.render)(a.a.createElement(i.a,{client:Xr},a.a.createElement(Hr,null)),Kr)},CrUY:function(e,t,n){e.exports=n.p+\"img/background-login@2x.57f2a279.jpg\"},H1Be:function(e,t,n){e.exports=n.p+\"img/background-login.955534e8.jpg\"},Km7m:function(e,t,n){},RClv:function(e,t,n){e.exports=n.p+\"img/upload.47dd6e02.svg\"},ScKw:function(e,t,n){e.exports=n.p+\"img/danger.9f70266e.svg\"},SwPm:function(e,t,n){e.exports=n.p+\"img/leave.e3a2f47d.svg\"},X8eM:function(e,t,n){e.exports=n.p+\"img/add_project.abae0cbd.svg\"},X931:function(e,t,n){e.exports=n.p+\"img/add_user.912dfe06.svg\"},YaYb:function(e,t,n){e.exports=n.p+\"img/close-white.b044adee.svg\"},eesx:function(e,t,n){e.exports=n.p+\"img/comment.e9876f33.svg\"},qSnX:function(e,t,n){e.exports=n.p+\"img/delete.cfd679bb.svg\"},qzzo:function(e,t,n){e.exports=n.p+\"img/star.93031288.svg\"},ukBR:function(e,t,n){e.exports=n.p+\"img/chevron.fd97bb8f.svg\"},yqFz:function(e,t,n){e.exports=n.p+\"img/add_image.b5e82dfd.svg\"}});","extractedComments":[]}