!function(e){function t(t){for(var n,c,i=t[0],l=t[1],s=t[2],m=0,p=[];m<i.length;m++)c=i[m],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&p.push(a[c][0]),a[c]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);for(u&&u(t);p.length;)p.shift()();return o.push.apply(o,s||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,i=1;i<r.length;i++){var l=r[i];0!==a[l]&&(n=!1)}n&&(o.splice(t--,1),e=c(c.s=r[0]))}return e}var n={},a={main:0},o=[];function c(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.m=e,c.c=n,c.d=function(e,t,r){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(r,n,function(t){return e[t]}.bind(null,n));return r},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/build/app/";var i=window.webpackJsonp=window.webpackJsonp||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var s=0;s<i.length;s++)t(i[s]);var u=l;o.push(["9XVo",0]),r()}({"+Bf/":function(e,t,r){e.exports=r.p+"img/success.c9b1caae.svg"},"/5e6":function(e,t,r){e.exports=r.p+"img/warning.c09f2b53.svg"},"0QAq":function(e,t,r){e.exports=r.p+"img/check.6890cf07.svg"},"1zgo":function(e,t,r){e.exports=r.p+"img/archive.fa6029eb.svg"},"3h9j":function(e,t,r){e.exports=r.p+"img/close.ff2e588e.svg"},"8Me5":function(e,t,r){e.exports=r.p+"img/edit.b02ad14b.svg"},"9XVo":function(e,t,r){"use strict";r.r(t);r("Km7m"),r("ls82");var n=r("q1tI"),a=r.n(n),o=r("i8i4"),c=r("PC6D"),i=r("+QN0"),l=r("55Ip"),s=r("Ty5D"),u=r("Uvq/"),m=r("FGyW"),p=r("8PNI"),d=r("ATyU"),f=r("y6dH"),v=[.65,0,.35,1],b={initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{ease:v,duration:.2}},g={initial:{y:200,opacity:0},animate:{y:0,opacity:1,transition:{type:"spring",damping:42,stiffness:800}},exit:{y:200,opacity:0,transition:{type:"spring",damping:42,stiffness:1200}}},y={initial:{y:"100%"},animate:{y:"0%",transition:{type:"spring",damping:41,stiffness:600}},exit:{y:"100%",transition:{type:"spring",damping:41,stiffness:1200}}},h={initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{ease:v,duration:.2}},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return{initial:{opacity:0,y:35},animate:{opacity:1,y:0,transition:{type:"spring",damping:30,stiffness:450,delay:.035*e}},exit:{opacity:0,scale:.25,transition:{type:"spring",damping:30,stiffness:600}}}},j=r("3h9j"),w=r.n(j),O=a.a.createContext();function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function N(e){var t=e.selected,r=e.resetSelected,o=e.actions,c=Object(n.useContext)(O).userRole;return a.a.createElement(d.a.div,x({},y,{className:"bar bar--project"}),a.a.createElement("div",{className:"container-fluid"},a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-auto d-flex align-items-center"},a.a.createElement("button",{type:"button",className:"bar__btn btn btn-link d-inline-flex text-white",onClick:r},a.a.createElement(f.a,{wrapper:"svg",className:"icon icon--14",src:w.a})),a.a.createElement("p",{className:"ml-2 mb-0"},t.length," selected")),a.a.createElement("div",{className:"col-auto ml-auto"},a.a.createElement("ul",{className:"bar__list list d-flex align-items-center"},o.map((function(e,t){var r=e.title,n=e.theme,o=e.hasPermission,i=e.icon,l=e.iconSize,s=void 0===l?12:l,u=e.mutation,m=void 0===u?function(){}:u,p=e.isLoading,d=void 0!==p&&p;if(o.includes(c))return a.a.createElement("li",{key:t,className:"list__item"},a.a.createElement("button",{className:"bar__btn btn btn-link d-flex align-items-center text-decoration-none",onClick:m},a.a.createElement("div",{className:"icon-wrapper icon-wrapper--".concat(n," icon-wrapper--interactive")},a.a.createElement(Ge,{loading:d,loaderSize:12,classes:{loaderClasses:"position-absolute d-flex text-".concat(n)}},a.a.createElement(f.a,{wrapper:"svg",className:"icon icon--".concat(s," text-").concat(n),src:i}))),a.a.createElement("span",{className:"btn__text text-white ml-2"},r)))})))))))}var _=r("YaYb"),S=r.n(_),P=r("/5e6"),I=r.n(P),k=r("ScKw"),C=r.n(k),R=r("+Bf/"),A=r.n(R),D={warning:{title:"Warning",icon:I.a},danger:{title:"Error",icon:C.a},success:{title:"Success",icon:A.a}};function L(e){var t=e.message,r=e.appearance,n=e.closeToast;return a.a.createElement("div",{className:"alert alert--notification",role:"alert","data-alert":!0},a.a.createElement("div",{className:"d-flex align-items-center w-100"},a.a.createElement("div",{className:"alert__icon-wrapper alert__icon-wrapper--".concat(r," mr-2")},a.a.createElement(f.a,{wrapper:"svg",className:"alert__icon icon icon--12",src:D[r].icon})),a.a.createElement("p",{className:"mb-0"},D[r].title),a.a.createElement("button",{className:"alert__btn btn btn-link ml-auto",type:"button",onClick:n},a.a.createElement(f.a,{wrapper:"svg",className:"icon icon--10",src:S.a}))),a.a.createElement("span",{className:"alert__message text--xs text-muted--70 mr-lg-8"},t))}var F=r("H1Be"),U=r.n(F),z=r("CrUY"),B=r.n(z);function T(){return a.a.createElement("div",{className:"background"},a.a.createElement("img",{className:"background__image",src:U.a,srcSet:B.a,alt:"Background"}))}function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Q(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $(e){var t=e.title,r=e.subtitle,n=e.SubtitleComponent,c=e.boxOpen,i=e.toggleBox,l=e.children,s=e.user,u=e.position,m=void 0===u?{}:u,v=e.renderOnBody,y=void 0===v||v,h=e.boxRef,E=e.extensionClasses,j=e.animate,O=void 0===j||j,x=m.left,N=void 0===x?0:x,_=m.top,S=void 0===_?0:_,P=O?function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach((function(t){Q(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},g):{},I=function(){return a.a.createElement(p.a,null,c&&a.a.createElement(d.a.div,{ref:h,layout:!0,transition:{duration:.2},className:"box ".concat(y&&"box--center"," ").concat(E),style:{"--left":N,"--top":S}},y&&a.a.createElement(d.a.div,M({className:"box-overlay"},b,{onClick:i})),a.a.createElement(d.a.div,M({key:"box-content",className:"box__content border p-5"},P),a.a.createElement("div",{className:"box__header d-flex align-items-start"},a.a.createElement("div",{className:"d-flex align-items-center"},s&&a.a.createElement(Ar,{user:s,size:"xl"}),a.a.createElement("div",{className:"d-flex flex-column ".concat(s&&"ml-3")},a.a.createElement("p",{className:"text--lg mb-0"},t),(n||r)&&a.a.createElement("p",{className:"text-muted--60 mb-0"},n?a.a.createElement(n,null):r))),a.a.createElement("button",{type:"button",className:"custom-modal__close btn btn-link ml-auto",onClick:i},a.a.createElement(f.a,{wrapper:"svg",className:"icon icon--12",src:w.a}))),a.a.createElement("div",{className:"box__body d-flex mt-4"},l))))};return y?Object(o.createPortal)(I(),document.body):I()}function Y(e){var t,r=e.title,o=e.type,c=void 0===o?"button":o,i=e.theme,l=void 0===i?"secondary":i,s=e.size,u=void 0===s?"sm":s,m=e.extensionClasses,p=void 0===m?"":m,d=e.onClick,f=void 0===d?function(){}:d,v=e.isLoading,b=void 0!==v&&v,g=Object(n.useRef)(),y=null===(t=g.current)||void 0===t?void 0:t.getBoundingClientRect().height;return a.a.createElement("button",{ref:g,className:"btn btn-".concat(u," btn-").concat(l," ").concat(p," d-flex align-items-center"),style:{height:y},type:c,onClick:f},a.a.createElement(Ge,{loading:b,loaderSize:16,classes:{loaderClasses:"position-absolute d-flex text-secondary"}},a.a.createElement("span",{className:"btn__text"},r)))}var X=r("yzbm"),V=r("SR//"),W=r("yqFz"),K=r.n(W),H=r("RClv"),J=r.n(H),G=r("vDqi"),Z=r.n(G);function ee(e,t,r,n,a,o,c){try{var i=e[o](c),l=i.value}catch(e){return void r(e)}i.done?t(l):Promise.resolve(l).then(n,a)}function te(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function c(e){ee(o,n,a,c,i,"next",e)}function i(e){ee(o,n,a,c,i,"throw",e)}c(void 0)}))}}var re=function(){var e=te(regeneratorRuntime.mark((function e(t){var r,n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.formRef,n=new FormData(r.current),e.next=4,Z.a.post("/api/signup",n);case 4:return a=e.sent,e.abrupt("return",null==a?void 0:a.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=te(regeneratorRuntime.mark((function e(t){var r,n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.formRef,n=new FormData(r.current),e.next=4,Z.a.post("/api/login",{email:n.get("email"),password:n.get("password")});case 4:return a=e.sent,e.abrupt("return",null==a?void 0:a.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=te(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.a.get("/api/logout");case 2:return t=e.sent,e.abrupt("return",null==t?void 0:t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function oe(e,t,r,n,a,o,c){try{var i=e[o](c),l=i.value}catch(e){return void r(e)}i.done?t(l):Promise.resolve(l).then(n,a)}function ce(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function c(e){oe(o,n,a,c,i,"next",e)}function i(e){oe(o,n,a,c,i,"throw",e)}c(void 0)}))}}var ie=function(){var e=ce(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.userId,e.next=3,Z.a.get("/api/projects/get/".concat(r));case 3:return n=e.sent,e.abrupt("return",null==n?void 0:n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=ce(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.projectId,e.next=3,Z.a.get("/api/project/get/".concat(r));case 3:return n=e.sent,e.abrupt("return",null==n?void 0:n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=ce(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.a.post("/api/projects/add");case 2:return t=e.sent,e.abrupt("return",null==t?void 0:t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=ce(regeneratorRuntime.mark((function e(t){var r,n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.projectIds,n=new FormData,r.forEach((function(e){return n.append("projects[]",e)})),e.next=5,Z.a.post("/api/projects/delete",n);case 5:return a=e.sent,e.abrupt("return",null==a?void 0:a.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),me=function(){var e=ce(regeneratorRuntime.mark((function e(t){var r,n,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.projectIds,n=t.userId,a=new FormData,r.forEach((function(e){return a.append("projects[]",e)})),e.next=5,Z.a.post("/api/projects/leave/".concat(n),a);case 5:return o=e.sent,e.abrupt("return",null==o?void 0:o.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pe=function(){var e=ce(regeneratorRuntime.mark((function e(t){var r,n,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.formRef,n=t.id,a=new FormData(r.current),e.next=4,Z.a.post("/api/projects/edit/".concat(n),a);case 4:return o=e.sent,e.abrupt("return",null==o?void 0:o.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function de(e,t,r,n,a,o,c){try{var i=e[o](c),l=i.value}catch(e){return void r(e)}i.done?t(l):Promise.resolve(l).then(n,a)}function fe(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function c(e){de(o,n,a,c,i,"next",e)}function i(e){de(o,n,a,c,i,"throw",e)}c(void 0)}))}}var ve=function(){var e=fe(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.projectImageId,e.next=3,Z.a.get("/api/images/get/".concat(r));case 3:return n=e.sent,e.abrupt("return",null==n?void 0:n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),be=function(){var e=fe(regeneratorRuntime.mark((function e(t){var r,n,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.projectId,n=t.images,a=new FormData,n.forEach((function(e){return a.append("images[]",e)})),e.next=5,Z.a.post("/api/images/add/".concat(r),a);case 5:return o=e.sent,e.abrupt("return",null==o?void 0:o.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ge=function(){var e=fe(regeneratorRuntime.mark((function e(t){var r,n,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.projectId,n=t.projectImageIds,a=new FormData,n.forEach((function(e){return a.append("projectImages[]",e)})),e.next=5,Z.a.post("/api/images/delete/".concat(r),a);case 5:return o=e.sent,e.abrupt("return",null==o?void 0:o.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ye=function(){var e=fe(regeneratorRuntime.mark((function e(t){var r,n,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.formRef,n=t.id,a=new FormData(r.current),e.next=4,Z.a.post("/api/images/edit/".concat(n),a);case 4:return o=e.sent,e.abrupt("return",null==o?void 0:o.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function he(e,t,r,n,a,o,c){try{var i=e[o](c),l=i.value}catch(e){return void r(e)}i.done?t(l):Promise.resolve(l).then(n,a)}function Ee(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function c(e){he(o,n,a,c,i,"next",e)}function i(e){he(o,n,a,c,i,"throw",e)}c(void 0)}))}}var je=function(){var e=Ee(regeneratorRuntime.mark((function e(t){var r,n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.userId,n="/api/users/get",r&&(n="".concat(n,"/").concat(r)),e.next=5,Z.a.get(n);case 5:return a=e.sent,e.abrupt("return",null==a?void 0:a.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),we=function(){var e=Ee(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.a.get("/api/users/get/all");case 2:return t=e.sent,e.abrupt("return",null==t?void 0:t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Oe=function(){var e=Ee(regeneratorRuntime.mark((function e(t){var r,n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.projectId,n=t.email,e.next=3,Z.a.post("/api/users/add/".concat(r),{email:n});case 3:return a=e.sent,e.abrupt("return",null==a?void 0:a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xe=function(){var e=Ee(regeneratorRuntime.mark((function e(t){var r,n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.projectId,n=t.userId,e.next=3,Z.a.post("/api/users/delete/".concat(r),{userId:n});case 3:return a=e.sent,e.abrupt("return",null==a?void 0:a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Ne(e,t,r,n,a,o,c){try{var i=e[o](c),l=i.value}catch(e){return void r(e)}i.done?t(l):Promise.resolve(l).then(n,a)}var _e=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var r,n,a,o,c,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.formRef,n=t.phaseId,a=t.userId,o=t.position,(c=new FormData(r.current)).append("userId",a),c.append("positionX",o.xPercent),c.append("positionY",o.yPercent),e.next=7,Z.a.post("/api/comments/add/".concat(n),c);case 7:return i=e.sent,e.abrupt("return",null==i?void 0:i.data);case 9:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function c(e){Ne(o,n,a,c,i,"next",e)}function i(e){Ne(o,n,a,c,i,"throw",e)}c(void 0)}))});return function(e){return t.apply(this,arguments)}}(),Se="current_user",Pe="project_by_user",Ie="project_by_id",ke="project_image_by_id",Ce="global_users";function Re(){return(Re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function De(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(r),!0).forEach((function(t){Le(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ae(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Le(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fe(e){var t=e.projectId,r=e.positition,n=void 0===r?"left":r,o=e.children,c=Object(i.b)(),l=Object(X.a)({accept:"image/*",noClick:!0,onDrop:function(e){return f("add",{images:e})}}),s=l.getRootProps,u=l.getInputProps,m=l.isDragActive,p=Object(V.a)(be,{onSuccess:function(){return c.invalidateQueries([Ie,t])}}),d=Object(V.a)(ge,{onSuccess:function(){return c.invalidateQueries([Ie,t])}}),f=function(e,r){"add"===e&&p.mutate(De({projectId:t},r)),"delete"===e&&d.mutate(De({projectId:t},r))};return a.a.createElement("div",Re({className:"dropzone"},s()),a.a.createElement("input",u()),a.a.createElement(Ue,{addImageLoading:p.isLoading,updateProjectImages:f,isParentDragActive:m,positition:n}),a.a.createElement("div",{className:"row row--equalized gutters-5"},o({updateProjectImages:f,isLoading:d.isLoading})))}var Ue=function(e){var t=e.addImageLoading,r=e.updateProjectImages,n=e.isParentDragActive,o=e.positition,c=Object(X.a)({accept:"image/*",noDragEventsBubbling:!0,onDrop:function(e){return r("add",{images:e})}}),i=c.getRootProps,l=c.getInputProps,s=c.isDragActive;return a.a.createElement("div",Re({className:"dropzone"},i()),a.a.createElement("input",l()),a.a.createElement(p.a,null,(s||n)&&a.a.createElement(d.a.div,Re({},b,{className:"dropzone__overlay"}),a.a.createElement("div",{className:"icon-wrapper icon-wrapper--secondary",style:{"--size":75}},a.a.createElement(f.a,{wrapper:"svg",className:"icon icon--30 text-secondary",src:J.a})))),a.a.createElement(d.a.button,Re({},h,{key:"add-project",type:"button",className:"icon-wrapper icon-wrapper--interactive icon-wrapper--secondary btn btn-link btn--add btn--add-".concat(o),style:{"--size":75}}),a.a.createElement(Ge,{loading:t,classes:{loaderClasses:"position-absolute d-flex text-secondary"},loaderSize:30},a.a.createElement(f.a,{wrapper:"svg",className:"icon icon--30 text-secondary",src:K.a}))))},ze=r("g3U7");function Be(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],c=!0,i=!1;try{for(r=r.call(e);!(c=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);c=!0);}catch(e){i=!0,a=e}finally{try{c||null==r.return||r.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Te(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Te(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Te(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Me(e){var t=e.title,r=e.inputType,o=e.toggleBox,c=e.content,i=e.mutation,l=e.mutationId,s=e.mutationOnSuccess,u=Be(Object(n.useState)(c),2),m=u[0],p=u[1],d=Object(n.useRef)(),f=Object(n.useRef)();Object(n.useEffect)((function(){var e;null!=f&&f.current&&(null==f||null===(e=f.current)||void 0===e||e.select())}),[]);var v=Object(V.a)(i,{onSuccess:function(){s(),o()}});return a.a.createElement("form",{ref:d,className:"d-flex flex-column align-items-center flex-grow-1",onSubmit:function(e){e.preventDefault(),v.mutate({formRef:d,id:l})}},a.a.createElement("label",{className:"sr-only",htmlFor:r},t),a.a.createElement(ze.a,{className:"form-control form-control-sm form-control--text",id:r,name:r,type:"text",value:m,onChange:function(e){var t=e.target.value;return p(t)},ref:f}),a.a.createElement(Y,{title:"Save",extensionClasses:"mt-4 w-50 justify-content-center",isLoading:v.isLoading,type:"submit"}))}var qe=r("8Me5"),Qe=r.n(qe);function $e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ye(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],c=!0,i=!1;try{for(r=r.call(e);!(c=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);c=!0);}catch(e){i=!0,a=e}finally{try{c||null==r.return||r.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ve(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ve(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function We(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ke(e){var t=e.inputType,r=e.children,o=We(e,["inputType","children"]),c=Xe(Object(n.useState)(!1),2),i=c[0],l=c[1],s=Object(n.useContext)(O).userRole,u="Editing ".concat(t),m=function(){return l(!i)};return a.a.createElement("div",{className:"editable d-flex align-items-center position-relative"},a.a.createElement("div",{className:"editable__content"},r),"admin"===s&&a.a.createElement(a.a.Fragment,null,a.a.createElement("button",{className:"editable__toggle btn btn-link icon-wrapper icon-wrapper--secondary icon-wrapper--interactive stretched-link ml-3",onClick:m,style:{"--size":25}},a.a.createElement(f.a,{wrapper:"svg",className:"icon icon--10 text-secondary",src:Qe.a})),a.a.createElement($,{title:u,subtitle:"Save when ready",boxOpen:i,toggleBox:m},a.a.createElement(Me,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(r),!0).forEach((function(t){Ye(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$e(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({title:u,inputType:t,toggleBox:m},o)))))}var He=r("iae6");function Je(){return(Je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ge(e){var t=e.loading,r=e.children,n=e.loaderSize,o=void 0===n?40:n,c=e.classes,i=void 0===c?{}:c,l=i.loaderClasses,s=void 0===l?"position-absolute d-flex":l,u=i.defaultClasses,m=void 0===u?"":u;return a.a.createElement(p.a,{initial:!1},t?a.a.createElement(d.a.div,Je({key:"loader",className:s},h),a.a.createElement(He.a,{color:"inherit",size:o})):a.a.createElement(d.a.div,Je({key:"default",className:m},h),r))}function Ze(){return(Ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function et(e){var t=e.toggleModal,r=e.children,n=e.domElement,c=e.variant,i=void 0===c?"default":c,l=function(){return a.a.createElement("div",{key:"custom-modal",className:"custom-modal custom-modal--".concat(i)},a.a.createElement(d.a.div,Ze({className:"custom-modal__overlay",onClick:t},b)),a.a.createElement(d.a.article,Ze({key:"custom-modal__content",className:"custom-modal__content"},y),a.a.createElement("div",{className:"container-fluid d-flex flex-grow-1"},r)))};return n?Object(o.createPortal)(l(),n):l()}var tt=r("de8u");function rt(e){var t=e.isLoading,r=e.children;return a.a.createElement(p.a,null,t?a.a.createElement(d.a.div,b,a.a.createElement(tt.a,{color:"secondary"})):a.a.createElement("div",{key:"children"},r))}function nt(e){var t=e.children;return a.a.createElement("main",{className:"main-content"},a.a.createElement("section",{className:"pane py-5 py-lg-10"},a.a.createElement("div",{className:"container-fluid"},t)))}var at=r("X931"),ot=r.n(at);function ct(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],c=!0,i=!1;try{for(r=r.call(e);!(c=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);c=!0);}catch(e){i=!0,a=e}finally{try{c||null==r.return||r.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return it(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return it(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function it(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lt(e){var t=e.users,r=e.project,o=ct(Object(n.useState)(!1),2),c=o[0],i=o[1],l=function(){return i(!c)};return a.a.createElement("div",{className:"position-relative ml-2"},a.a.createElement("button",{className:"btn btn-link user user--lg user--add",type:"button",onClick:l},a.a.createElement("span",{className:"user__avatar"},a.a.createElement("div",{className:"user__initials"},a.a.createElement(f.a,{wrapper:"svg",className:"user__icon icon icon--12 mt-0",src:ot.a})))),a.a.createElement($,{title:"Select users",subtitle:"Choose some users to collaborate with.",boxOpen:c,toggleBox:l},a.a.createElement(bt,{users:t,project:r,toggleBox:l})))}function st(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}var ut="ROLE_ADMIN",mt="ROLE_USER",pt="ROLE_USER_BASIC";function dt(e){var t=e.roles;return t.includes(ut)?"admin":t.includes(mt)?"user":t.includes(pt)?"basic":void 0}function ft(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],c=!0,i=!1;try{for(r=r.call(e);!(c=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);c=!0);}catch(e){i=!0,a=e}finally{try{c||null==r.return||r.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return vt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bt(e){var t=e.users,r=e.project,o=e.toggleBox,c=ft(Object(n.useState)(""),2),l=c[0],s=c[1],m=ft(Object(n.useState)(0),2),p=m[0],d=m[1],f=Object(u.a)(Ce,we),v=f.data,b=void 0===v?[]:v,g=f.isLoading,y=function(e,t,r){var n=r.toLowerCase(),a=t.map((function(e){return e.email}));return e.filter((function(e){var t=e.email;return!a.includes(t)})).filter((function(e){var t=e.email,r=e.username;return t.toLowerCase().includes(n)||r.toLowerCase().includes(n)}))}(b,t,l),h=Object(n.useRef)(),E=Object(i.b)(),j=Object(V.a)(Oe,{onSuccess:function(){E.invalidateQueries([Ie,r.id]),E.invalidateQueries(Ce),h.current.select(),s("")}});return a.a.createElement("div",{className:"d-flex flex-column flex-grow-1"},a.a.createElement(Tr,{users:t,project:r,variant:"interactive",size:"xl"}),a.a.createElement("div",{className:"position-relative"},a.a.createElement("label",{className:"sr-only",htmlFor:"userQuery"},"Search name or email"),a.a.createElement("input",{className:"form-control form-control-sm form-control--search",id:"userQuery",name:"userQuery",placeholder:"Search name or email",type:"text",autoFocus:!0,value:l,onChange:function(e){var t=e.target.value;return s(t)},onKeyDown:function(e){if(["Enter","Tab"].includes(e.key)&&(e.preventDefault(),""!==l&&null!==p)){var t=p in y?y[p]:p;st(t.email)&&j.mutate({projectId:r.id,email:t.email})}},autoComplete:"off",ref:h}),a.a.createElement(yt,{filteredUsers:y,query:l,handleClick:function(e){st(e)&&j.mutate({projectId:r.id,email:e})},focusedUser:p,setFocusedUser:d,userMutationLoading:j.isLoading,globalUsersLoading:g})),a.a.createElement("div",{className:"d-flex align-items-center justify-content-center mt-4"},a.a.createElement(Y,{title:"Done",onClick:o,extensionClasses:"w-50 justify-content-center"})))}function gt(){return(gt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function yt(e){var t,r=e.filteredUsers,n=e.query,o=e.handleClick,c=e.focusedUser,i=e.setFocusedUser,l=e.userMutationLoading,s=e.globalUsersLoading;return a.a.createElement(p.a,null,""!==n&&a.a.createElement(d.a.ul,gt({},b,{className:"box__list list"}),(t={email:n,username:"New user",userColor:"#CC25E8"},r.length>0?r.map((function(e,t){return a.a.createElement(d.a.li,gt({},b,{key:e.id,className:"list__item vr-3"}),a.a.createElement(qr,{user:e,userIndex:t,handleClick:o,setFocusedUser:i,isFocused:t===c&&n,isLoading:l}))})):s?void 0:a.a.createElement(d.a.li,gt({},b,{key:"New user",className:"list__item is-focused vr-3"}),a.a.createElement(qr,{user:t,userIndex:t,handleClick:o,setFocusedUser:i,isFocused:n.length,isLoading:l})))))}var ht=r("NKCw");function Et(e){return function(e){if(Array.isArray(e))return Ot(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||wt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],c=!0,i=!1;try{for(r=r.call(e);!(c=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);c=!0);}catch(e){i=!0,a=e}finally{try{c||null==r.return||r.return()}finally{if(i)throw a}}return o}(e,t)||wt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wt(e,t){if(e){if("string"==typeof e)return Ot(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ot(e,t):void 0}}function Ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xt(){var e=jt(Object(n.useState)([]),2),t=e[0],r=e[1];return{selected:t,updateSelected:function(e){r((function(t){return t.includes(e)?t.filter((function(t){return t!==e})):[].concat(Et(t),[e])}))},resetSelected:function(){return r([])}}}function Nt(e){return function(e){if(Array.isArray(e))return _t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return _t(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _t(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _t(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function St(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];Object(n.useEffect)((function(){document.title="".concat(e?e+" | Parallel Dashboard":document.title)}),Nt(t))}function Pt(){return(Pt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function It(){return(It=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var kt=r("0QAq"),Ct=r.n(kt);function Rt(e){var t=e.project,r=e.selected,n=e.updateSelected,o=t.title,c=t.projectImages,i=t.users,s=t.author,u=t.id;return a.a.createElement(l.b,{to:"projects/".concat(u).concat(location.search),title:o,className:"card card--link card--product ".concat(r.includes(u)&&"is-selected")},a.a.createElement(Bt,{projectImages:c}),a.a.createElement("div",{className:"card-body"},a.a.createElement("div",{className:"d-flex flex-column"},a.a.createElement("p",{className:"mb-2"},o||"Add a nice title"),a.a.createElement("div",{className:"d-flex align-items-center"},a.a.createElement(Tr,{users:i,project:{author:s},layout:"minimal"})))),a.a.createElement("div",{className:"card__select"},a.a.createElement("div",{className:"card__select-toggle",onClick:function(e){e.preventDefault(),n(u)}},a.a.createElement(f.a,{wrapper:"svg",className:"card__select-icon icon icon--8",src:Ct.a}))))}var At=r("X8eM"),Dt=r.n(At);function Lt(){return(Lt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ft(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],c=!0,i=!1;try{for(r=r.call(e);!(c=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);c=!0);}catch(e){i=!0,a=e}finally{try{c||null==r.return||r.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ut(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ut(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zt(e){var t=e.setNewProjectId,r=Ft(Object(n.useState)(null),2),o=r[0],c=r[1],l=Ft(Object(n.useState)(!1),2),s=l[0],m=l[1],v=Object(i.b)(),b=Object(u.a)([Ie,o],(function(){return le({projectId:o})}),{enabled:!!o}).data;Object(n.useEffect)((function(){t(o)}),[o]);var g=Object(V.a)(se,{onSuccess:function(e){var t=e.id;return c(t)}}),y=Object(V.a)(pe,{onSuccess:function(){return j()}}),E=function(){m(!s),s||g.mutate(),s&&(setTimeout((function(){c(null)}),250),j())},j=function(){return v.invalidateQueries(Pe)};return a.a.createElement(a.a.Fragment,null,a.a.createElement(d.a.button,Lt({},h,{key:"add-project",type:"button",className:"icon-wrapper icon-wrapper--interactive icon-wrapper--secondary btn btn-link btn--add btn--add-right",style:{"--size":75},onClick:E}),a.a.createElement(f.a,{wrapper:"svg",className:"icon icon--30 text-secondary",src:Dt.a})),a.a.createElement(p.a,null,s&&a.a.createElement(Mt,{project:b,updateProject:function(e){return y.mutate({formRef:e,id:o})},toggleModal:E})))}function Bt(e){var t=e.projectImages[0]||{},r=t.phases,n=void 0===r?[]:r,o=t.title,c=(n[n.length-1]||{}).image;return a.a.createElement("div",{className:"card__image border m-2"},c&&a.a.createElement("img",{className:"card-img-top",src:c,srcSet:"".concat(c," 2x"),alt:o}),!c&&a.a.createElement(f.a,{wrapper:"svg",className:"icon icon--48 text-muted--40",src:K.a}))}function Tt(){return(Tt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Mt(e){var t=e.project,r=void 0===t?{}:t,o=e.updateProject,c=e.toggleModal,i=r.id,l=void 0===i?null:i,s=r.title,u=void 0===s?"":s,m=r.projectImages,v=void 0===m?[]:m,b=r.users,g=void 0===b?[]:b,y=Object(n.useRef)();return a.a.createElement(et,{toggleModal:c,domElement:document.body},a.a.createElement("form",{ref:y,method:"POST",className:"custom-modal__form",onSubmit:function(e){e.preventDefault(),c()}},a.a.createElement("div",{className:"custom-modal__header d-flex align-items-center pt-6 pt-md-12 pb-3"},a.a.createElement("label",{className:"sr-only",htmlFor:"projectTitle"},u),a.a.createElement("input",{type:"text",className:"form-control form-control--clear text--xl",id:"projectTitle",name:"title",placeholder:"The project name",onBlur:function(){return o(y)},autoFocus:!0}),a.a.createElement("button",{type:"button",className:"custom-modal__close btn btn-link ml-auto","data-dismiss":"modal","aria-label":"Close",onClick:c,tabIndex:"-1"},a.a.createElement(f.a,{wrapper:"svg",className:"icon icon--14",src:w.a}))),a.a.createElement("div",{className:"custom-modal__body pt-3 pb-12"},a.a.createElement("div",{className:"row gutters-2"},a.a.createElement("div",{className:"col-6"},a.a.createElement("label",{className:"sr-only",htmlFor:"projectDescription"},"What's this project about?"),a.a.createElement(ze.a,{className:"form-control form-control--text form-control--clear mb-10",id:"projectDescription",name:"description",placeholder:"What's this project about?",onBlur:function(){return o(y)}})),a.a.createElement("div",{className:"col-auto d-flex align-items-baseline ml-auto"},a.a.createElement(Tr,{users:g,project:r,size:"lg"}),a.a.createElement(lt,{users:g,project:r}))),a.a.createElement(Fe,{projectId:l,projectImages:v},(function(e){var t=e.updateProjectImages,r=e.isLoading;return a.a.createElement(p.a,null,v.map((function(e,n){return a.a.createElement(qt,{key:e.id,projectImage:e,projectImageIndex:n,updateProjectImages:t,isLoading:r})})))}))),a.a.createElement("div",{className:"custom-modal__footer pb-6 pb-md-12"},a.a.createElement("div",{className:"row gutters-0 w-100"},a.a.createElement("div",{className:"col-12 col-lg-1 ml-auto"},a.a.createElement("button",{type:"submit",className:"custom-modal__btn btn btn-block btn-secondary d-flex align-items-center justify-content-center"},a.a.createElement(d.a.span,{className:"btn-text"},a.a.createElement("span",null,"Save"))))))))}var qt=function(e){var t=e.projectImage,r=e.projectImageIndex,n=e.updateProjectImages,o=e.isLoading,c=t.title,i=t.id,l=t.phases,s=void 0===l?[]:l,u=(s[s.length-1]||{}).image;return a.a.createElement(d.a.div,Tt({layout:!0},E(r),{className:"col-12 col-md-6 col-lg-4 col-xl-3 col-xxl-2",key:i}),a.a.createElement("div",{className:"dropzone__container"},a.a.createElement("img",{className:"dropzone__image img-fluid",src:u,alt:c}),a.a.createElement("button",{type:"button",className:"btn btn-link dropzone__image-delete p-0",onClick:function(e){e.stopPropagation(),n("delete",{projectImageIds:[i]})}},a.a.createElement("div",{className:"dropzone__image-delete-icon icon-wrapper icon-wrapper--danger mx-auto",style:{"--size":50}},a.a.createElement(Ge,{loading:o,loaderSize:20,classes:{loaderClasses:"position-absolute d-flex text-danger"}},a.a.createElement(f.a,{wrapper:"svg",className:"icon icon--14 text-danger mt-0",src:w.a}))))))},Qt=r("SwPm"),$t=r.n(Qt),Yt=r("1zgo"),Xt=r.n(Yt);function Vt(){return(Vt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Wt(e){var t=e.projects,r=e.newProjectId,o=xt(),c=o.selected,l=o.updateSelected,s=o.resetSelected,u=Object(n.useContext)(O).currentUser,m=Object(i.b)(),f=Object(V.a)(me,{onSuccess:function(){m.invalidateQueries(Pe),s()}}),v=Object(V.a)(ue,{onSuccess:function(){m.invalidateQueries(Pe),s()}}),g=[{title:"Leave",theme:"warning",hasPermission:["user","basic"],icon:$t.a,mutation:function(){return f.mutate({projectIds:c,userId:u.id})},isLoading:f.isLoading},{title:"Archive",theme:"secondary",hasPermission:["admin"],icon:Xt.a},{title:"Remove",theme:"danger",hasPermission:["admin"],icon:w.a,iconSize:10,mutation:function(){return v.mutate({projectIds:c})},isLoading:v.isLoading}];return a.a.createElement(a.a.Fragment,null,a.a.createElement("h1",{className:"h5 text-white mb-6"},"Your projects"),a.a.createElement(p.a,null,0===t.length&&a.a.createElement(d.a.p,Vt({},b,{className:"text-white mb-0 position-absolute"}),"You don't have any projects yet")),a.a.createElement("div",{className:"row row--equalized gutters-5 ".concat(c.length>0&&"has-selections")},a.a.createElement(p.a,null,t.filter((function(e){return e.id!==r})).map((function(e,t){return a.a.createElement(d.a.div,Vt({},E(t),{key:e.id,className:"col-12 col-md-6 col-lg-4 col-xl-3 col-xxl-2",layout:!0}),a.a.createElement(Rt,{project:e,selected:c,updateSelected:l}))})))),a.a.createElement(p.a,null,c.length>0&&a.a.createElement(N,{selected:c,resetSelected:s,actions:g})))}function Kt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],c=!0,i=!1;try{for(r=r.call(e);!(c=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);c=!0);}catch(e){i=!0,a=e}finally{try{c||null==r.return||r.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ht(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ht(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Jt(e){var t=e.title,r=e.description,o=e.users,c=e.id,l=e.author,s=e.email,u={id:c,author:l,email:s},m=Object(n.useContext)(O).userRole,p=Object(i.b)(),d=function(){p.invalidateQueries([Ie,c])};return a.a.createElement("div",{className:"row mb-6"},a.a.createElement("div",{className:"col-12 col-lg-6"},a.a.createElement("div",{className:"".concat("admin"===m&&"editable"," d-flex align-items-center mb-2")},a.a.createElement(Ke,{inputType:"title",content:t,mutation:pe,mutationId:c,mutationOnSuccess:d},a.a.createElement("h1",{className:"h5 mb-0 text-white"},t||"Add a nice title"))),a.a.createElement("div",{className:"".concat("admin"===m&&"editable"," d-flex align-items-center mb-2")},a.a.createElement(Ke,{inputType:"description",content:r,mutation:pe,mutationId:c,mutationOnSuccess:d},a.a.createElement("p",{className:"text-muted--70 mb-0"},r?a.a.createElement("span",null,r):a.a.createElement("span",{className:"text-muted--40"},"What's this project about? Set the context, the goals, the constraints"))))),a.a.createElement("div",{className:"col-auto d-flex align-items-baseline ml-auto"},a.a.createElement(Tr,{users:o,project:u,size:"lg"}),"admin"===m&&a.a.createElement(lt,{users:o,project:u})))}function Gt(){return(Gt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Zt(e){var t=e.projectImage,r=e.projectId,n=e.selected,o=e.updateSelected,c=t.id,s=t.title,u=t.phases,m=void 0===u?[]:u,p=(m[m.length-1]||{}).image,v=Object(i.b)();return a.a.createElement("article",{className:"card card--link card--product ".concat(n.includes(c)&&"is-selected")},a.a.createElement(l.b,{to:"/projects/".concat(r,"/review/").concat(c).concat(location.search),title:s},a.a.createElement("div",{className:"card__image border m-2"},a.a.createElement("img",{className:"card-img-top",src:p,srcSet:"".concat(p," 2x"),alt:s}))),a.a.createElement("div",{className:"card-body"},a.a.createElement(Ke,{inputType:"title",projectId:r,content:s,mutation:ye,mutationId:c,mutationOnSuccess:function(){v.invalidateQueries([Ie,r])}},a.a.createElement(d.a.p,Gt({},b,{className:"mb-0"}),s))),a.a.createElement("div",{className:"card__select"},a.a.createElement("div",{className:"card__select-toggle",onClick:function(e){e.preventDefault(),o(c)}},a.a.createElement(f.a,{wrapper:"svg",className:"card__select-icon icon icon--8",src:Ct.a}))))}function er(){return(er=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function tr(e){var t=e.projectImages,r=e.projectId,o=xt(),c=o.selected,l=o.updateSelected,s=o.resetSelected,u=Object(i.b)(),m=Object(n.useContext)(O).userRole,d=Object(V.a)(ge,{onSuccess:function(){u.invalidateQueries([Ie,r]),s()}}),f=[{title:"Remove",theme:"danger",hasPermission:["admin"],icon:w.a,iconSize:10,mutation:function(){return d.mutate({projectId:r,projectImageIds:c})},isLoading:d.isLoading}];return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"".concat(c.length>0&&"has-selections")},"admin"===m?a.a.createElement(Fe,{projectId:r,projectImages:t,positition:"right"},(function(){return a.a.createElement(rr,{projectImages:t,projectId:r,selected:c,updateSelected:l})})):a.a.createElement("div",{className:"row gutters-5"},a.a.createElement(rr,{projectImages:t,projectId:r,selected:c,updateSelected:l}))),a.a.createElement(p.a,null,c.length>0&&a.a.createElement(N,{selected:c,resetSelected:s,actions:f})))}var rr=function(e){var t=e.projectImages,r=e.projectId,n=e.selected,o=e.updateSelected;return a.a.createElement(p.a,null,t.map((function(e,t){return a.a.createElement(d.a.div,er({},E(t),{key:e.id,className:"col-12 col-md-6 col-lg-4 col-xl-3 col-xxl-2",layout:!0}),a.a.createElement(Zt,{projectImage:e,projectId:r,selected:n,updateSelected:o}))})))};function nr(e){var t=e.id,r=e.title,o=e.description,c=Object(n.useContext)(O).userRole,l=Object(i.b)(),s=function(){l.invalidateQueries([ke,t])};return a.a.createElement("div",{className:"row mb-6"},a.a.createElement("div",{className:"col-12 col-xl-6"},a.a.createElement("div",{className:"".concat("admin"===c&&"editable"," d-flex align-items-center mb-2")},a.a.createElement(Ke,{inputType:"title",projectId:t,content:r,mutation:ye,mutationId:t,mutationOnSuccess:s},a.a.createElement("h1",{className:"h5 mb-0 text-white"},r||"Add a nice title"))),a.a.createElement("div",{className:"".concat("admin"===c&&"editable"," d-flex align-items-center mb-2")},a.a.createElement(Ke,{inputType:"description",content:o,mutation:ye,mutationId:t,mutationOnSuccess:s},a.a.createElement("p",{className:"text-muted--70 mb-0"},o?a.a.createElement("span",null,o):a.a.createElement("span",{className:"text-muted--40"},"Add a decription - the purpose, context, objectives"))))))}function ar(){return(ar=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function or(e){var t=e.xPercent,r=e.yPercent,o=e.author,c=e.commentIndex,i=e.toggleComment,l=e.children,s=Object(n.useContext)(O).currentUser,u=o||s;return a.a.createElement(d.a.div,ar({layout:!0,transition:{duration:.2},className:"review__interaction",style:{"--x":t,"--y":r}},b),a.a.createElement(d.a.button,ar({},h,{className:"review__marker icon-wrapper icon-wrapper--secondary btn btn-link text-reset",style:{"--theme":"".concat(u.userColor)},onClick:i}),c&&a.a.createElement("span",{className:"text--xs"},c+1)),l)}function cr(e,t){var r,n=t.reviewPos,a=Number(t.xPercent),o=Number(t.yPercent),c=(null==e||null===(r=e.current)||void 0===r?void 0:r.getBoundingClientRect())||{},i=c.width,l=void 0===i?400:i,s=c.height,u=void 0===s?228:s,m=30,p=30;return a+l/window.innerWidth*100>100&&(m=-l-10),o+u/(window.innerHeight-n.top)*100>100&&(p=-u-10),{left:"".concat(m,"px"),top:"".concat(p,"px")}}function ir(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],c=!0,i=!1;try{for(r=r.call(e);!(c=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);c=!0);}catch(e){i=!0,a=e}finally{try{c||null==r.return||r.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return lr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sr(e){var t=e.author,r=e.comment,o=e.position,c=e.commentIndex,i=e.reviewRef,l=o.xPercent,s=o.yPercent,u=ir(Object(n.useState)(!1),2),m=u[0],p=u[1],d=function(){return p(!m)};return a.a.createElement(or,{xPercent:l,yPercent:s,author:t,commentIndex:c,toggleComment:d},a.a.createElement(ur,{comment:r,author:t,boxOpen:m,toggleBox:d,position:o,reviewRef:i}))}var ur=function(e){var t=e.comment,r=e.author,o=e.boxOpen,c=e.toggleBox,i=e.position,l=e.reviewRef,s=r.username,u=r.email,m=ir(Object(n.useState)(i),2),p=m[0],d=m[1],f=Object(n.useRef)();return Object(n.useEffect)((function(){i&&d((function(){return i.reviewPos=l.current.getBoundingClientRect(),cr(f,i)}))}),[i]),a.a.createElement($,{renderOnBody:!1,animate:!1,extensionClasses:"review__box",title:s,subtitle:u,boxOpen:o,toggleBox:c,user:r,position:p,boxRef:f},t)};function mr(e){var t=e.markerPos,r=e.boxOpen,o=e.toggleBox,c=e.phaseId,l=e.projectImageId,s=Object(n.useRef)(),u=Object(n.useRef)(),m=cr(u,t),p=Object(n.useContext)(O).currentUser,d=Object(i.b)(),f=Object(V.a)(_e,{onSuccess:function(){d.invalidateQueries([ke,parseInt(l)]),o()}});return a.a.createElement($,{renderOnBody:!1,extensionClasses:"review__box",title:"Add a comment",SubtitleComponent:function(){return a.a.createElement("span",null,"Comment or ",a.a.createElement("span",{className:"text-secondary"}," @mention ")," someone")},boxOpen:r,toggleBox:o,position:m,user:p,boxRef:u},a.a.createElement("form",{ref:s,className:"d-flex flex-column align-items-center flex-grow-1",onSubmit:function(e){e.preventDefault(),f.mutate({formRef:s,userId:p.id,phaseId:c,position:t})}},a.a.createElement("label",{className:"sr-only",htmlFor:"comment"},"Add a comment"),a.a.createElement(ze.a,{className:"form-control form-control-sm form-control--text",id:"comment",name:"comment",type:"text",placeholder:"Say something nice...",autoFocus:!0}),a.a.createElement(Y,{title:"Submit",extensionClasses:"mt-4 w-50 justify-content-center",type:"submit",isLoading:f.isLoading})))}function pr(){return(pr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function dr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dr(Object(r),!0).forEach((function(t){vr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function vr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function br(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],c=!0,i=!1;try{for(r=r.call(e);!(c=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);c=!0);}catch(e){i=!0,a=e}finally{try{c||null==r.return||r.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return gr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yr(e){var t=e.title,r=e.phases,o=void 0===r?[]:r,c=e.projectImageId,i=o[o.length-1]||{},l=i.image,s=i.id,u=i.comments,m=Object(n.useRef)(),d=br(Object(n.useState)(),2),f=d[0],v=d[1],b=br(Object(n.useState)(!1),2),g=b[0],y=b[1];return a.a.createElement("div",{ref:m,className:"review position-relative mx-n12 mb-n12 mt-12"},a.a.createElement("img",{className:"review__image img-fluid w-100",src:l,srcSet:"".concat(l," 2x"),alt:t,onClick:function(e){var t=e.clientX,r=e.clientY,n=null==m?void 0:m.current.getBoundingClientRect();v((function(){return{xPercent:(t-10)/n.width*100,yPercent:(r-n.top-10)/n.height*100,reviewPos:n}})),y(!0)}}),u.length>0&&u.map((function(e,t){return a.a.createElement(sr,pr({key:t},fr(fr({},e),{},{commentIndex:t,reviewRef:m})))})),a.a.createElement(p.a,null,f&&a.a.createElement(or,fr({},f),a.a.createElement(mr,{markerPos:f,boxOpen:g,toggleBox:function(){y(!g),v(null)},phaseId:s,projectImageId:c}))))}function hr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Er(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hr(Object(r),!0).forEach((function(t){jr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function jr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var wr={login:"/",signup:"/signup",projects:"/projects"},Or=[{name:"login",path:"/",component:function(e){var t,r,o=e.setCurrentUser,c=e.setUserRole,i=Object(n.useRef)();St("Login");var u=Object(s.g)(),p=Object(ht.a)({reValidateMode:"onChange",mode:"onBlur"}),d=p.register,f=p.handleSubmit,v=p.formState.errors,b=Object(V.a)(ne,{onSuccess:function(e){o(e),c(dt(e)),Object(m.b)(a.a.createElement(L,{message:"Successfully logged in!",appearance:"success"})),u.push(wr.projects)},onError:function(e){var t,r;Object(m.b)(a.a.createElement(L,{message:null!=e&&null!==(t=e.response)&&void 0!==t&&null!==(r=t.data)&&void 0!==r&&r.error?"Email/password combination not found!":"Something went wrong!",appearance:"danger"})),v.email={message:"Email/password combination not found"},v.password={message:"Email/password combination not found"}}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(Nr,null),a.a.createElement("main",{className:"main-content"},a.a.createElement(T,null),a.a.createElement("div",{className:"pane"},a.a.createElement("div",{className:"pane__panel panel panel--login"},a.a.createElement("div",{className:"panel__body"},a.a.createElement("h1",{className:"text-uppercase text-white mb-0"},"Login"),a.a.createElement("p",{className:"text-muted--70 text-white mb-6"},"Login with your e-mail and password"),a.a.createElement("form",{ref:i,className:"panel__form form",onSubmit:f((function(){return b.mutate({formRef:i})})),noValidate:!0},a.a.createElement("div",{className:"row gutters-2"},a.a.createElement("div",{className:"col-12"},a.a.createElement("label",{className:"sr-only",htmlFor:"inputEmail"},"Email"),a.a.createElement("input",Pt({type:"email",className:"form-control ".concat(v.email&&"is-invalid"),id:"inputEmail",name:"email",placeholder:"Email",autoFocus:!0},d("email",{required:!0}))),v.email&&a.a.createElement("div",{className:"invalid-feedback"},null!==(t=v.email)&&void 0!==t&&t.message?v.email.message:"Please enter a valid email")),a.a.createElement("div",{className:"col-12"},a.a.createElement("label",{className:"sr-only",htmlFor:"inputPassword"},"Password"),a.a.createElement("input",Pt({type:"password",className:"form-control ".concat(v.password&&"is-invalid"),id:"inputPassword",name:"password",placeholder:"Password"},d("password",{required:!0}))),v.password&&a.a.createElement("div",{className:"invalid-feedback"},null!==(r=v.password)&&void 0!==r&&r.message?v.password.message:"Please enter a password"))),a.a.createElement("div",{className:"row gutters-2"},a.a.createElement("div",{className:"col-12 col-md-6"},a.a.createElement(Y,{title:"Log in",theme:"secondary",size:"md",extensionClasses:"btn-block justify-content-center",type:"submit",isLoading:b.isLoading})),a.a.createElement("div",{className:"col-12 col-md-6"},a.a.createElement(l.b,{className:"btn btn-outline-white btn-block",to:wr.signup,title:"sign up"},a.a.createElement("span",{className:"btn__text"},"Sign up"))))))))))}},{name:"signup",path:"/signup",component:function(e){var t=e.setCurrentUser,r=Object(n.useRef)();St("Signup");var o=Object(s.g)(),c=Object(ht.a)({reValidateMode:"onChange",mode:"onBlur"}),i=c.register,u=c.handleSubmit,p=c.formState.errors,d=c.control,f=Object(ht.b)({control:d,name:"plainPassword",defaultValue:""}),v=Object(V.a)(re,{onSuccess:function(e){t(e),Object(m.b)(a.a.createElement(L,{message:"Successfully logged in!",appearance:"success"})),o.push(wr.projects)},onError:function(e){500===e.response.status&&(Object(m.b)(a.a.createElement(L,{message:"This email is already in use!",appearance:"danger"})),r.current.reset())}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(Nr,null),a.a.createElement("main",{className:"main-content"},a.a.createElement(T,null),a.a.createElement("div",{className:"pane"},a.a.createElement("div",{className:"pane__panel panel panel--login"},a.a.createElement("div",{className:"panel__body"},a.a.createElement("h1",{className:"text-uppercase text-white mb-0"},"Sign up"),a.a.createElement("p",{className:"text-muted--70 text-white mb-6"},"Sign up with your e-mail and password"),a.a.createElement("form",{ref:r,className:"panel__form form mt-6",onSubmit:u((function(){return v.mutate({formRef:r})})),noValidate:!0},a.a.createElement("div",{className:"row gutters-2"},a.a.createElement("div",{className:"col-12"},a.a.createElement("label",{className:"sr-only",htmlFor:"registration_form_username"},"Your name"),a.a.createElement("input",It({type:"text",id:"registration_form_username",name:"username",className:"form-control ".concat(p.username&&"is-invalid"),placeholder:"Full name"},i("username",{required:{value:!0,message:"Please enter a name"}}))),p.username&&a.a.createElement("div",{className:"invalid-feedback"},p.username.message)),a.a.createElement("div",{className:"col-12"},a.a.createElement("label",{className:"sr-only",htmlFor:"registration_form_email"},"Email"),a.a.createElement("input",It({type:"text",id:"registration_form_email",name:"email",className:"form-control ".concat(p.email&&"is-invalid"),placeholder:"Email"},i("email",{required:{value:!0,message:"Please enter an email"}}))),p.email&&a.a.createElement("div",{className:"invalid-feedback"},p.email.message)),a.a.createElement("div",{className:"col-md-6"},a.a.createElement("label",{className:"sr-only",htmlFor:"registration_form_plainPassword"},"Password"),a.a.createElement("input",It({type:"password",id:"registration_form_plainPassword",name:"plainPassword",className:"form-control ".concat(p.password&&"is-invalid"),placeholder:"Password"},i("plainPassword",{required:{value:!0,message:"Please enter a password"},minLength:{value:6,message:"Please enter a password of atleast 6 characters"}}))),p.plainPassword&&a.a.createElement("div",{className:"invalid-feedback"},p.plainPassword.message)),a.a.createElement("div",{className:"col-md-6"},a.a.createElement("label",{className:"sr-only",htmlFor:"login-confirm-password"},"Confirm password"),a.a.createElement("input",It({type:"password",className:"form-control ".concat(p.passwordConfirm&&"is-invalid"),id:"login-confirm-password",placeholder:"Confirm password",name:"passwordConfirm"},i("passwordConfirm",{required:{value:!0,message:"Please confirm your password"},validate:function(e){return e===f||"The passwords do not match"}}))),p.passwordConfirm&&a.a.createElement("div",{className:"invalid-feedback"},p.passwordConfirm.message))),a.a.createElement("div",{className:"row gutters-2"},a.a.createElement("div",{className:"col-12 col-md-6"},a.a.createElement(Y,{title:"Sign up",theme:"secondary",size:"md",extensionClasses:"btn-block justify-content-center",type:"submit",isLoading:v.isLoading})),a.a.createElement("div",{className:"col-12 col-md-6"},a.a.createElement(l.b,{className:"btn btn-outline-white btn-block",to:wr.login,title:"sign up"},a.a.createElement("span",{className:"btn__text"},"Login"))))))))))}},{name:"project-overview",path:"/projects",component:function(){var e=Kt(Object(n.useState)(),2),t=e[0],r=e[1];St("Projects");var o=Object(n.useContext)(O),c=o.currentUser,i=o.userRole,l=Object(u.a)(Pe,(function(){return ie({userId:null==c?void 0:c.id})}),{enabled:!(null==c||!c.id)}),s=l.isLoading,m=l.data,p=void 0===m?[]:m;return a.a.createElement(nt,null,a.a.createElement(rt,{isLoading:s},"admin"===i&&a.a.createElement(zt,{setNewProjectId:r}),a.a.createElement(Wt,{projects:p,newProjectId:t})))}},{name:"project-detail",path:"/projects/:id",component:function(){var e=Object(s.i)().id,t=Object(u.a)([Ie,parseInt(e)],(function(){return le({projectId:e})})),r=t.isLoading,n=t.data,o=void 0===n?{}:n;St(null==o?void 0:o.title,[o]);var c=o.title,i=o.description,l=o.users,m=o.id,p=o.author,d=o.email,f=o.projectImages;return a.a.createElement(nt,null,a.a.createElement(rt,{isLoading:r},a.a.createElement(Jt,{title:c,description:i,users:l,id:m,author:p,email:d}),a.a.createElement(tr,{projectImages:f,projectId:m})))}},{name:"project-review",path:"/projects/:id/review/:id",component:function(){var e=Object(s.i)().id,t=Object(u.a)([ke,parseInt(e)],(function(){return ve({projectImageId:e})})),r=t.isLoading,n=t.data,o=void 0===n?{}:n;return St(null==o?void 0:o.title,[o]),a.a.createElement(nt,null,a.a.createElement(rt,{isLoading:r},a.a.createElement(nr,o),a.a.createElement(yr,Er(Er({},o),{},{projectImageId:e}))))}}];function xr(){return(xr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Nr(){return a.a.createElement(d.a.header,xr({className:"main-header"},b),a.a.createElement("div",{className:"container-fluid px-5 pt-5 px-lg-6 pt-lg-6 px-xl-12 pt-xl-12"},a.a.createElement("div",{className:"main-header__logo logo"},a.a.createElement(l.b,{className:"logo__link text-reset",to:wr.login,title:"Parallel Dashboard"},a.a.createElement("h2",{className:"logo__title text-uppercase mb-0"},"Parallel"),a.a.createElement("p",{className:"logo__subtitle text-uppercase font-weight-light mt-n1"},"Dashboard")))))}function _r(){return(_r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Sr(){var e=Object(s.g)(),t=Object(n.useContext)(O).setCurrentUser,r=Object(V.a)(ae,{onSuccess:function(){e.push(wr.login),t(null),Object(m.b)(a.a.createElement(L,{message:"Successfully logged out!",appearance:"success"}))},onError:function(){return Object(m.b)(a.a.createElement(L,{message:"Something went wrong!",appearance:"danger"}))}});return a.a.createElement(d.a.header,_r({className:"main-header main-header--projects"},b),a.a.createElement("div",{className:"container-fluid"},a.a.createElement("div",{className:"main-header__wrapper d-flex align-items-end"},a.a.createElement("div",{className:"main-header__logo logo"},a.a.createElement(l.b,{className:"logo__link text-reset",to:wr.projects,title:"Parallel Dashboard"},a.a.createElement("h2",{className:"logo__title text-uppercase text-white mb-0"},"Parallel"),a.a.createElement("p",{className:"logo__subtitle text-uppercase text-white font-weight-light mt-n1"},"Dashboard"))),a.a.createElement("div",{className:"main-header__nav ml-auto"},a.a.createElement("ul",{className:"nav nav--primary"},a.a.createElement("li",{className:"nav-item"},a.a.createElement("button",{href:"{{ path('app_logout') }}",title:"Logout",className:"nav-link btn btn-link text-reset",onClick:function(){return r.mutate()}},a.a.createElement("span",{className:"nav-text"},"Logout"))))))))}var Pr=r("qzzo"),Ir=r.n(Pr),kr=r("qSnX"),Cr=r.n(kr);function Rr(){return(Rr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ar(e){var t=e.user,r=e.project,n=void 0===r?{}:r,o=e.variant,c=void 0===o?"default":o,l=e.size,s=void 0===l?"md":l,u=Object(i.b)(),m=n.id,p=n.author,d=t.id,v=t.email===p,b=["user","user--".concat(s),"user--".concat(c),v&&"user--author"].join(" "),g=Object(V.a)(xe,{onSuccess:function(){return u.invalidateQueries([Ie,m])}});return a.a.createElement("div",{className:b},a.a.createElement(Dr,Rr({isLoading:g.isLoading},t),"interactive"===c&&!v&&a.a.createElement("button",{className:"user__action btn btn-link p-0",type:"button",onClick:function(){return g.mutate({projectId:m,userId:d})}},a.a.createElement(f.a,{wrapper:"svg",className:"user__action-icon icon icon--14",src:Cr.a}))),v&&a.a.createElement("div",{className:"user__status user__status--leader"},a.a.createElement(f.a,{wrapper:"svg",className:"user__status-icon icon text-tertiary mt-0",src:Ir.a})))}var Dr=function(e){var t=e.username,r=e.userColor,n=e.isLoading,o=e.children,c=t.split(" ").map((function(e){return e[0].toUpperCase()}));return a.a.createElement("div",{className:"user__avatar",style:{"--theme":r}},a.a.createElement(Ge,{loading:n,loaderSize:16},a.a.createElement("span",{className:"user__initials"},c),o))},Lr=function(e){var t=e.username,r=e.email;return a.a.createElement("div",{className:"d-flex flex-column ml-3"},a.a.createElement("p",{className:"mb-0"},t),a.a.createElement("p",{className:"text-muted--60 text--xs"},r))};function Fr(){return(Fr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ur(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function zr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Br(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Tr(e){var t=e.users,r=e.layout,n=void 0===r?"full":r,o=Br(e,["users","layout"]),c="minimal"===n?7:1/0;return a.a.createElement("div",{className:"row align-items-center gutters-1"},a.a.createElement(p.a,null,t.slice(0,c).map((function(e){return a.a.createElement(d.a.div,Fr({layout:!0},h,{className:"col-auto",key:e.id}),a.a.createElement(Ar,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ur(Object(r),!0).forEach((function(t){zr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ur(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({user:e},o)))})),"minimal"===n&&t.length>7&&a.a.createElement(d.a.div,Fr({layout:!0},h,{className:"col-auto",key:"more"}),a.a.createElement("p",{className:"text--xs text-muted--70 ml-1"},"+ ",t.length-c))))}function Mr(){return(Mr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function qr(e){var t=e.user,r=e.userIndex,o=e.handleClick,c=e.isFocused,i=e.setFocusedUser,l=e.isLoading;Object(n.useEffect)((function(){c&&i(r)}),[c]),Object(n.useEffect)((function(){return function(){return i(0)}}),[]);var s=function(e){i("enter"===e?r:0)};return a.a.createElement("button",{className:"user user--select ".concat(c&&"is-focused"," user--xl"),onClick:function(){return o(t.email)},onMouseEnter:function(){return s("enter")},onMouseLeave:function(){return s("leave")}},a.a.createElement("div",{className:"d-flex align-items-center"},a.a.createElement(Dr,Mr({isLoading:l&&c},t)),a.a.createElement(Lr,t),a.a.createElement("div",{className:"user__add text-secondary rounded-circle ml-auto"},a.a.createElement(f.a,{wrapper:"svg",className:"user__add-icon icon icon--12 text-secondary",src:ot.a}))))}function Qr(){return(Qr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function $r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Yr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$r(Object(r),!0).forEach((function(t){Xr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$r(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Xr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],c=!0,i=!1;try{for(r=r.call(e);!(c=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);c=!0);}catch(e){i=!0,a=e}finally{try{c||null==r.return||r.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Wr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Kr(){return a.a.createElement(l.a,null,a.a.createElement(Hr,null))}var Hr=function(){var e=Vr(Object(n.useState)(),2),t=e[0],r=e[1],o=Vr(Object(n.useState)([]),2),c=o[0],i=o[1],l=atob(window.location.search.replace("?","")),f=Object(s.h)(),v=Object(u.a)(Se,(function(){return je({userId:l})}),{retry:!1,onSuccess:function(e){r(e),i(dt(e))}}).isLoading;return a.a.createElement(O.Provider,{value:{currentUser:t,setCurrentUser:r,userRole:c}},a.a.createElement(p.a,null,![wr.login,wr.signup].includes(f.pathname)&&a.a.createElement(Sr,null)),a.a.createElement(rt,{isLoading:v},a.a.createElement(p.a,{exitBeforeEnter:!0},a.a.createElement(s.d,{location:f,key:f.pathname},t&&f.pathname===wr.login&&a.a.createElement(s.a,{to:wr.projects}),!t&&f.pathname===wr.projects&&a.a.createElement(s.a,{to:wr.login}),Or.map((function(e){var n=e.path,o=e.component,l=e.props;return a.a.createElement(s.b,{key:n,path:n,exact:!0},a.a.createElement(d.a.div,Qr({key:n},b),a.a.createElement(o,Yr(Yr({},l),{},{currentUser:t,setCurrentUser:r,userRole:c,setUserRole:i}))))}))))),a.a.createElement(m.a,{hideProgressBar:!0,newestOnTop:!0,position:"bottom-left",closeButton:!1}))},Jr=new c.a({defaultOptions:{queries:{refetchOnWindowFocus:!1}}}),Gr=document.getElementById("app");null!==Gr&&Object(o.render)(a.a.createElement(i.a,{client:Jr},a.a.createElement(Kr,null)),Gr)},CrUY:function(e,t,r){e.exports=r.p+"img/background-login@2x.57f2a279.jpg"},H1Be:function(e,t,r){e.exports=r.p+"img/background-login.955534e8.jpg"},Km7m:function(e,t,r){},RClv:function(e,t,r){e.exports=r.p+"img/upload.47dd6e02.svg"},ScKw:function(e,t,r){e.exports=r.p+"img/danger.9f70266e.svg"},SwPm:function(e,t,r){e.exports=r.p+"img/leave.e3a2f47d.svg"},X8eM:function(e,t,r){e.exports=r.p+"img/add_project.abae0cbd.svg"},X931:function(e,t,r){e.exports=r.p+"img/add_user.912dfe06.svg"},YaYb:function(e,t,r){e.exports=r.p+"img/close-white.b044adee.svg"},qSnX:function(e,t,r){e.exports=r.p+"img/delete.cfd679bb.svg"},qzzo:function(e,t,r){e.exports=r.p+"img/star.93031288.svg"},yqFz:function(e,t,r){e.exports=r.p+"img/add_image.b5e82dfd.svg"}});